{"abi":[{"type":"error","name":"SafeCastUnderflow","inputs":[]}],"bytecode":{"object":"0x610a8961003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe730000000000000000000000000000000000000000301460806040526004361061004b5760003560e01c8063656a7ea614610050578063690f66bf14610075578063ebe3337214610097575b600080fd5b61006361005e366004610885565b6100b7565b60405190815260200160405180910390f35b81801561008157600080fd5b506100956100903660046108cc565b6101f0565b005b8180156100a357600080fd5b506100956100b2366004610928565b61045d565b6000806100c687878686610677565b60008581526020888152604080832065ffffffffffff851684528252918290208251608081018452815480825260018301546001600160a01b03169382019390935260028201549381019390935260030154606083015291925090841015610133576000925050506101e7565b80602001516001600160a01b0316866001600160a01b03161461015b576000925050506101e7565b604081015160608201511561017057806101e1565b604051637028a55d60e11b81526004810187905260248101869052309063e0514aba90604401602060405180830381865afa1580156101b3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d7919061097a565b6101e190826109a9565b93505050505b95945050505050565b60008381526020889052604081205461020b90600f0b6107ca565b60008581526020899052604081205491925065ffffffffffff9091169081610249576000868152602089815260408083208380529091529020610282565b6000868152602089905260408120906102636001856109c2565b65ffffffffffff1665ffffffffffff1681526020019081526020016000205b90506102968989836003015486600061045d565b60008681526020898152604080832065ffffffffffff86168452909152902042815560028281015490820155600381018690556001810180546001600160a01b0319166001600160a01b0387161790556102f18a8a896107f6565b1561034057600087815260208b905260408120805465ffffffffffff1691610318836109e8565b91906101000a81548165ffffffffffff021916908365ffffffffffff16021790555050610443565b600087815260208a905260408120829161035b6001876109c2565b65ffffffffffff1665ffffffffffff168152602001908152602001600020600082015481600001556001820160009054906101000a90046001600160a01b03168160010160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550600282015481600201556003820154816003015590505088600088815260200190815260200160002060008465ffffffffffff1665ffffffffffff1681526020019081526020016000206000808201600090556001820160006101000a8154906001600160a01b0302191690556002820160009055600382016000905550505b505050600093845250506020929092526040902055505050565b82156106705760008381526020869052604081205465ffffffffffff16908161049c5760008581526020878152604080832083805290915290206104d5565b6000858152602087905260408120906104b66001856109c2565b65ffffffffffff1665ffffffffffff1681526020019081526020016000205b60008681526020888152604080832065ffffffffffff87168452909152902042815560018083015490820180546001600160a01b0319166001600160a01b039092169190911790559091508361054c578160020154851061053757600061055c565b8482600201546105479190610a0d565b61055c565b84826002015461055c91906109a9565b6002820155600380830154908201556105768888886107f6565b156105c5576000868152602089905260408120805465ffffffffffff169161059d836109e8565b91906101000a81548165ffffffffffff021916908365ffffffffffff1602179055505061066c565b600086815260208890526040812082916105e06001876109c2565b65ffffffffffff9081168252602080830193909352604091820160009081208554815560018087015481830180546001600160a01b039092166001600160a01b031992831617905560028089015481850155600398890154938901939093558d84528e8752858420948b1684529390955292812081815593840180549092169091559082018190559101555b5050505b5050505050565b60008281526020859052604081205465ffffffffffff1680820361069f5760009150506107c2565b600084815260208690526040812084916106ba6001856109c2565b65ffffffffffff168152602081019190915260400160002054116106eb576106e36001826109c2565b9150506107c2565b6000848152602086815260408083208380529091529020548310156107145760009150506107c2565b6000806107226001846109c2565b90505b8165ffffffffffff168165ffffffffffff1611156107bd576000600261074b84846109c2565b6107559190610a20565b61075f90836109c2565b600088815260208a8152604080832065ffffffffffff851684529091529020805491925090879003610797575093506107c292505050565b80548711156107a8578193506107b6565b6107b36001836109c2565b92505b5050610725565b509150505b949350505050565b60008082600f0b12156107ef5760405162406f5d60e21b815260040160405180910390fd5b50600f0b90565b60008181526020849052604081205465ffffffffffff16801580159061084d5750600083815260208590526040812042916108326001856109c2565b65ffffffffffff168152602081019190915260400160002054145b1561085c576000915050610862565b60019150505b9392505050565b80356001600160a01b038116811461088057600080fd5b919050565b600080600080600060a0868803121561089d57600080fd5b85359450602086013593506108b460408701610869565b94979396509394606081013594506080013592915050565b600080600080600080600060e0888a0312156108e757600080fd5b873596506020880135955060408801359450606088013593506080880135925060a0880135915061091a60c08901610869565b905092959891949750929550565b600080600080600060a0868803121561094057600080fd5b853594506020860135935060408601359250606086013591506080860135801515811461096c57600080fd5b809150509295509295909350565b60006020828403121561098c57600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b808201808211156109bc576109bc610993565b92915050565b65ffffffffffff8281168282160390808211156109e1576109e1610993565b5092915050565b600065ffffffffffff808316818103610a0357610a03610993565b6001019392505050565b818103818111156109bc576109bc610993565b600065ffffffffffff80841680610a4757634e487b7160e01b600052601260045260246000fd5b9216919091049291505056fea26469706673582212204b37cc272ff99abffa25d9d117e3525f26d0cdfdff2df07146eddbba25f50f2964736f6c63430008130033","sourceMap":"181:8163:52:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;181:8163:52;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040526004361061004b5760003560e01c8063656a7ea614610050578063690f66bf14610075578063ebe3337214610097575b600080fd5b61006361005e366004610885565b6100b7565b60405190815260200160405180910390f35b81801561008157600080fd5b506100956100903660046108cc565b6101f0565b005b8180156100a357600080fd5b506100956100b2366004610928565b61045d565b6000806100c687878686610677565b60008581526020888152604080832065ffffffffffff851684528252918290208251608081018452815480825260018301546001600160a01b03169382019390935260028201549381019390935260030154606083015291925090841015610133576000925050506101e7565b80602001516001600160a01b0316866001600160a01b03161461015b576000925050506101e7565b604081015160608201511561017057806101e1565b604051637028a55d60e11b81526004810187905260248101869052309063e0514aba90604401602060405180830381865afa1580156101b3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d7919061097a565b6101e190826109a9565b93505050505b95945050505050565b60008381526020889052604081205461020b90600f0b6107ca565b60008581526020899052604081205491925065ffffffffffff9091169081610249576000868152602089815260408083208380529091529020610282565b6000868152602089905260408120906102636001856109c2565b65ffffffffffff1665ffffffffffff1681526020019081526020016000205b90506102968989836003015486600061045d565b60008681526020898152604080832065ffffffffffff86168452909152902042815560028281015490820155600381018690556001810180546001600160a01b0319166001600160a01b0387161790556102f18a8a896107f6565b1561034057600087815260208b905260408120805465ffffffffffff1691610318836109e8565b91906101000a81548165ffffffffffff021916908365ffffffffffff16021790555050610443565b600087815260208a905260408120829161035b6001876109c2565b65ffffffffffff1665ffffffffffff168152602001908152602001600020600082015481600001556001820160009054906101000a90046001600160a01b03168160010160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550600282015481600201556003820154816003015590505088600088815260200190815260200160002060008465ffffffffffff1665ffffffffffff1681526020019081526020016000206000808201600090556001820160006101000a8154906001600160a01b0302191690556002820160009055600382016000905550505b505050600093845250506020929092526040902055505050565b82156106705760008381526020869052604081205465ffffffffffff16908161049c5760008581526020878152604080832083805290915290206104d5565b6000858152602087905260408120906104b66001856109c2565b65ffffffffffff1665ffffffffffff1681526020019081526020016000205b60008681526020888152604080832065ffffffffffff87168452909152902042815560018083015490820180546001600160a01b0319166001600160a01b039092169190911790559091508361054c578160020154851061053757600061055c565b8482600201546105479190610a0d565b61055c565b84826002015461055c91906109a9565b6002820155600380830154908201556105768888886107f6565b156105c5576000868152602089905260408120805465ffffffffffff169161059d836109e8565b91906101000a81548165ffffffffffff021916908365ffffffffffff1602179055505061066c565b600086815260208890526040812082916105e06001876109c2565b65ffffffffffff9081168252602080830193909352604091820160009081208554815560018087015481830180546001600160a01b039092166001600160a01b031992831617905560028089015481850155600398890154938901939093558d84528e8752858420948b1684529390955292812081815593840180549092169091559082018190559101555b5050505b5050505050565b60008281526020859052604081205465ffffffffffff1680820361069f5760009150506107c2565b600084815260208690526040812084916106ba6001856109c2565b65ffffffffffff168152602081019190915260400160002054116106eb576106e36001826109c2565b9150506107c2565b6000848152602086815260408083208380529091529020548310156107145760009150506107c2565b6000806107226001846109c2565b90505b8165ffffffffffff168165ffffffffffff1611156107bd576000600261074b84846109c2565b6107559190610a20565b61075f90836109c2565b600088815260208a8152604080832065ffffffffffff851684529091529020805491925090879003610797575093506107c292505050565b80548711156107a8578193506107b6565b6107b36001836109c2565b92505b5050610725565b509150505b949350505050565b60008082600f0b12156107ef5760405162406f5d60e21b815260040160405180910390fd5b50600f0b90565b60008181526020849052604081205465ffffffffffff16801580159061084d5750600083815260208590526040812042916108326001856109c2565b65ffffffffffff168152602081019190915260400160002054145b1561085c576000915050610862565b60019150505b9392505050565b80356001600160a01b038116811461088057600080fd5b919050565b600080600080600060a0868803121561089d57600080fd5b85359450602086013593506108b460408701610869565b94979396509394606081013594506080013592915050565b600080600080600080600060e0888a0312156108e757600080fd5b873596506020880135955060408801359450606088013593506080880135925060a0880135915061091a60c08901610869565b905092959891949750929550565b600080600080600060a0868803121561094057600080fd5b853594506020860135935060408601359250606086013591506080860135801515811461096c57600080fd5b809150509295509295909350565b60006020828403121561098c57600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b808201808211156109bc576109bc610993565b92915050565b65ffffffffffff8281168282160390808211156109e1576109e1610993565b5092915050565b600065ffffffffffff808316818103610a0357610a03610993565b6001019392505050565b818103818111156109bc576109bc610993565b600065ffffffffffff80841680610a4757634e487b7160e01b600052601260045260246000fd5b9216919091049291505056fea26469706673582212204b37cc272ff99abffa25d9d117e3525f26d0cdfdff2df07146eddbba25f50f2964736f6c63430008130033","sourceMap":"181:8163:52:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7398:944;;;;;;:::i;:::-;;:::i;:::-;;;910:25:169;;;898:2;883:18;7398:944:52;;;;;;;1110:1437;;;;;;;;;;-1:-1:-1;1110:1437:52;;;;;:::i;:::-;;:::i;:::-;;3414:1297;;;;;;;;;;-1:-1:-1;3414:1297:52;;;;;:::i;:::-;;:::i;7398:944::-;7683:7;7702:18;7723:70;7741:15;7758:12;7772:8;7782:10;7723:17;:70::i;:::-;7803:46;7852:22;;;;;;;;;;;:35;;;;;;;;;;;7803:84;;;;;;;;;;;;;;;;-1:-1:-1;;;;;7803:84:52;;;;;;;;;;;;;;;;;;;;;;;;;;7702:91;;-1:-1:-1;7803:84:52;7970:41;-1:-1:-1;7966:55:52;;;8020:1;8013:8;;;;;;7966:55;8074:14;:20;;;-1:-1:-1;;;;;8062:32:52;:8;-1:-1:-1;;;;;8062:32:52;;8058:46;;8103:1;8096:8;;;;;;8058:46;8130:31;;;;8190:24;;;;:29;:145;;8330:5;8190:145;;;8246:65;;-1:-1:-1;;;8246:65:52;;;;;2552:25:169;;;2593:18;;;2586:34;;;8268:4:52;;8246:43;;2525:18:169;;8246:65:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;8238:73;;:5;:73;:::i;:::-;8171:164;;;;;7398:944;;;;;;;;:::o;1110:1437::-;1527:24;1554:19;;;;;;;;;;:26;:38;;:26;;:36;:38::i;:::-;1602:20;1625:27;;;;;;;;;;;1527:65;;-1:-1:-1;1625:27:52;;;;;1703:17;:117;;1793:24;;;;;;;;;;;;:27;;;;;;;;1703:117;;;1735:24;;;;;;;;;;;;1760:17;1776:1;1760:13;:17;:::i;:::-;1735:43;;;;;;;;;;;;;;;1703:117;1662:158;;1880:92;1900:15;1917:12;1931:5;:15;;;1948:16;1966:5;1880:19;:92::i;:::-;1982:35;2020:24;;;;;;;;;;;:39;;;;;;;;;;2088:15;2069:34;;2135:22;;;;;2113:19;;;:44;2167:12;;;:25;;;2202:8;;;:17;;-1:-1:-1;;;;;;2202:17:52;-1:-1:-1;;;;;2202:17:52;;;;;2234:66;2258:15;2020:24;;2234:23;:66::i;:::-;2230:265;;;2316:27;;;;;;;;;;;:29;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;2230:265;;;2376:24;;;;;;;;;;;2422:2;;2401:17;2417:1;2401:13;:17;:::i;:::-;2376:43;;;;;;;;;;;;;;;:48;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;2376:48:52;;;;;;;;;;-1:-1:-1;;;;;2376:48:52;;;;;-1:-1:-1;;;;;2376:48:52;;;;;;;;;;;;;;;;;;;;;;;;;2445:12;:24;2458:10;2445:24;;;;;;;;;;;:39;2470:13;2445:39;;;;;;;;;;;;;;;;2438:46;;;;;;;;;;;;;;;-1:-1:-1;;;;;2438:46:52;;;;;;;;;;;;;;;;;;;2230:265;-1:-1:-1;;;2505:22:52;;;;-1:-1:-1;;2505:22:52;;;;;;;;:35;-1:-1:-1;;;1110:1437:52:o;3414:1297::-;3698:28;;3719:7;3698:28;3735:20;3758:27;;;;;;;;;;;;;;3836:17;:117;;3926:24;;;;;;;;;;;;:27;;;;;;;;3836:117;;;3868:24;;;;;;;;;;;;3893:17;3909:1;3893:13;:17;:::i;:::-;3868:43;;;;;;;;;;;;;;;3836:117;3963:35;4001:24;;;;;;;;;;;:39;;;;;;;;;;4069:15;4050:34;;4105:11;;;;;4094:8;;;:22;;-1:-1:-1;;;;;;4094:22:52;-1:-1:-1;;;;;4105:11:52;;;4094:22;;;;;;3795:158;;-1:-1:-1;4242:9:52;:147;;4326:5;:22;;;4315:8;:33;:73;;4387:1;4242:147;;4315:73;4376:8;4351:5;:22;;;:33;;;;:::i;:::-;4242:147;;;4291:8;4266:5;:22;;;:33;;;;:::i;:::-;4220:19;;;:169;4414:15;;;;;4399:12;;;:30;4444:66;4468:15;4485:12;4499:10;4444:23;:66::i;:::-;4440:265;;;4526:27;;;;;;;;;;;:29;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;4440:265;;;4586:24;;;;;;;;;;;4632:2;;4611:17;4627:1;4611:13;:17;:::i;:::-;4586:43;;;;;;;;;;;;;;;;;;-1:-1:-1;4586:43:52;;;:48;;;;;;;;;;;;;;-1:-1:-1;;;;;4586:48:52;;;-1:-1:-1;;;;;;4586:48:52;;;;;;;;;;;;;;;;;;;;;;;;;;;4655:24;;;;;;;;;:39;;;;;;;;;;;;4648:46;;;;;;;;;;;;;;;;;;;;;;;4440:265;3688:1023;;;3414:1297;;;;;;:::o;5646:1187::-;5910:6;5950:25;;;;;;;;;;;;;5989:17;;;5985:31;;6015:1;6008:8;;;;;5985:31;6073:22;;;;;;;;;;;6131:10;;6096:16;6111:1;6096:12;:16;:::i;:::-;6073:40;;;;;;;;;;;;;-1:-1:-1;6073:40:52;:54;:68;6069:99;;6151:16;6166:1;6151:12;:16;:::i;:::-;6143:25;;;;;6069:99;6226:22;;;;;;;;;;;;:25;;;;;;;;:39;:52;-1:-1:-1;6222:66:52;;;6287:1;6280:8;;;;;6222:66;6299:12;;6340:16;6355:1;6340:12;:16;:::i;:::-;6325:31;;6366:439;6381:5;6373:13;;:5;:13;;;6366:439;;;6402:13;6444:1;6427:13;6435:5;6427;:13;:::i;:::-;6426:19;;;;:::i;:::-;6418:27;;:5;:27;:::i;:::-;6486:35;6524:22;;;;;;;;;;;:30;;;;;;;;;;6572:16;;6402:43;;-1:-1:-1;6524:30:52;6572;;;6568:227;;-1:-1:-1;6629:6:52;-1:-1:-1;6622:13:52;;-1:-1:-1;;;6622:13:52;6568:227;6660:16;;:29;-1:-1:-1;6656:139:52;;;6717:6;6709:14;;6656:139;;;6770:10;6779:1;6770:6;:10;:::i;:::-;6762:18;;6656:139;6388:417;;6366:439;;;-1:-1:-1;6821:5:52;-1:-1:-1;;5646:1187:52;;;;;;;:::o;579:162:53:-;635:7;666:1;658:5;:9;;;654:41;;;676:19;;-1:-1:-1;;;676:19:53;;;;;;;;;;;654:41;-1:-1:-1;720:13:53;;;579:162::o;4717:503:52:-;4959:4;4998:25;;;;;;;;;;;;;5038:17;;;;;:95;;-1:-1:-1;5059:22:52;;;;;;;;;;;5118:15;;5082:17;5098:1;5082:13;:17;:::i;:::-;5059:41;;;;;;;;;;;;;-1:-1:-1;5059:41:52;:55;:74;5038:95;5034:180;;;5156:5;5149:12;;;;;5034:180;5199:4;5192:11;;;4717:503;;;;;;:::o;14:173:169:-;82:20;;-1:-1:-1;;;;;131:31:169;;121:42;;111:70;;177:1;174;167:12;111:70;14:173;;;:::o;192:559::-;386:6;394;402;410;418;471:3;459:9;450:7;446:23;442:33;439:53;;;488:1;485;478:12;439:53;524:9;511:23;501:33;;581:2;570:9;566:18;553:32;543:42;;604:38;638:2;627:9;623:18;604:38;:::i;:::-;192:559;;;;-1:-1:-1;594:48:169;;689:2;674:18;;661:32;;-1:-1:-1;740:3:169;725:19;712:33;;192:559;-1:-1:-1;;192:559:169:o;946:776::-;1237:6;1245;1253;1261;1269;1277;1285;1338:3;1326:9;1317:7;1313:23;1309:33;1306:53;;;1355:1;1352;1345:12;1306:53;1391:9;1378:23;1368:33;;1448:2;1437:9;1433:18;1420:32;1410:42;;1499:2;1488:9;1484:18;1471:32;1461:42;;1550:2;1539:9;1535:18;1522:32;1512:42;;1601:3;1590:9;1586:19;1573:33;1563:43;;1653:3;1642:9;1638:19;1625:33;1615:43;;1677:39;1711:3;1700:9;1696:19;1677:39;:::i;:::-;1667:49;;946:776;;;;;;;;;;:::o;1727:646::-;1918:6;1926;1934;1942;1950;2003:3;1991:9;1982:7;1978:23;1974:33;1971:53;;;2020:1;2017;2010:12;1971:53;2056:9;2043:23;2033:33;;2113:2;2102:9;2098:18;2085:32;2075:42;;2164:2;2153:9;2149:18;2136:32;2126:42;;2215:2;2204:9;2200:18;2187:32;2177:42;;2269:3;2258:9;2254:19;2241:33;2317:5;2310:13;2303:21;2296:5;2293:32;2283:60;;2339:1;2336;2329:12;2283:60;2362:5;2352:15;;;1727:646;;;;;;;;:::o;2631:184::-;2701:6;2754:2;2742:9;2733:7;2729:23;2725:32;2722:52;;;2770:1;2767;2760:12;2722:52;-1:-1:-1;2793:16:169;;2631:184;-1:-1:-1;2631:184:169:o;2820:127::-;2881:10;2876:3;2872:20;2869:1;2862:31;2912:4;2909:1;2902:15;2936:4;2933:1;2926:15;2952:125;3017:9;;;3038:10;;;3035:36;;;3051:18;;:::i;:::-;2952:125;;;;:::o;3082:179::-;3150:14;3197:10;;;3185;;;3181:27;;3220:12;;;3217:38;;;3235:18;;:::i;:::-;3217:38;3082:179;;;;:::o;3266:205::-;3304:3;3332:14;3381:2;3374:5;3370:14;3408:2;3399:7;3396:15;3393:41;;3414:18;;:::i;:::-;3463:1;3450:15;;3266:205;-1:-1:-1;;;3266:205:169:o;3476:128::-;3543:9;;;3564:11;;;3561:37;;;3578:18;;:::i;3609:292::-;3648:1;3674:14;3715:2;3712:1;3708:10;3737:3;3727:134;;3783:10;3778:3;3774:20;3771:1;3764:31;3818:4;3815:1;3808:15;3846:4;3843:1;3836:15;3727:134;3879:10;;3875:20;;;;;3609:292;-1:-1:-1;;3609:292:169:o","linkReferences":{}},"methodIdentifiers":{"checkpointDelegatee(mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,uint256,uint256,bool)":"ebe33372","checkpointDelegator(mapping(uint256 => IVotingEscrow.LockedBalance) storage,mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,mapping(uint256 => uint256) storage,uint256,uint256,address)":"690f66bf","getPastVotes(mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,address,uint256,uint256)":"656a7ea6"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"SafeCastUnderflow\",\"type\":\"error\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"checkpointDelegatee(mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,uint256,uint256,bool)\":{\"details\":\"If used with `balance` == `_locked[_tokenId].amount`, then this is the same as      delegating or dedelegating from `_tokenId`      If used with `balance` < `_locked[_tokenId].amount`, then this is used to adjust      `delegatedBalance` when a user's balance is modified (e.g. `increaseAmount`, `merge` etc).      If `delegatee` is 0 (i.e. user is not delegating), then do nothing.\",\"params\":{\"_checkpoints\":\"State of all user checkpoints\",\"_delegatee\":\"The delegatee's tokenId\",\"_increase\":\"True if balance is increasing, false if decreasing\",\"_numCheckpoints\":\"State of all user checkpoint counts\",\"balance_\":\"The delta in balance change\"}},\"checkpointDelegator(mapping(uint256 => IVotingEscrow.LockedBalance) storage,mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,mapping(uint256 => uint256) storage,uint256,uint256,address)\":{\"details\":\"This function depends on `_locked` and must be called prior to token state changes.      If you wish to dedelegate only, use `_delegate(tokenId, 0)` instead.\",\"params\":{\"_checkpoints\":\"State of all user checkpoints\",\"_delegatee\":\"The new delegatee for the delegator. Cannot be equal to `_delegator` (use 0 instead).\",\"_delegates\":\"State of all user delegatees\",\"_delegator\":\"The delegator to update checkpoints for\",\"_locked\":\"State of all locked balances\",\"_numCheckpoints\":\"State of all user checkpoint counts\",\"_owner\":\"The new (or current) owner for the delegator\"}},\"getPastVotes(mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,address,uint256,uint256)\":{\"details\":\"If a checkpoint does not exist prior to the timestamp, this will return 0.      The user must also own the token at the time in order to receive a voting balance.\",\"params\":{\"_account\":\".\",\"_checkpoints\":\"State of all user checkpoints\",\"_numCheckpoints\":\"State of all user checkpoint counts\",\"_timestamp\":\".\",\"_tokenId\":\".\"},\"returns\":{\"_0\":\"Total voting balance including delegations at a given timestamp.\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"checkpointDelegatee(mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,uint256,uint256,bool)\":{\"notice\":\"Update delegatee's `delegatedBalance` by `balance`.         Only updates if delegating to a new delegatee.\"},\"checkpointDelegator(mapping(uint256 => IVotingEscrow.LockedBalance) storage,mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,mapping(uint256 => uint256) storage,uint256,uint256,address)\":{\"notice\":\"Used by `_mint`, `_transferFrom`, `_burn` and `delegate`         to update delegator voting checkpoints.         Automatically dedelegates, then updates checkpoint.\"},\"getPastVotes(mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,address,uint256,uint256)\":{\"notice\":\"Retrieves historical voting balance for a token id at a given timestamp.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/libraries/DelegationLogicLibrary.sol\":\"DelegationLogicLibrary\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@opengsn/=lib/gsn/packages/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@uniswap/v3-core/=lib/v3-core/\",\":ds-test/=lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":forge-std/=lib/forge-std/src/\",\":gsn/=lib/gsn/\",\":hardhat-deploy/=node_modules/hardhat-deploy/\",\":hardhat/=node_modules/hardhat/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":utils/=test/utils/\"]},\"sources\":{\"contracts/governance/IVotes.sol\":{\"keccak256\":\"0xe8e442e8dbcb52d105c44572f513378026b076c8c851905e0e05d97357f1cbcc\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://176a23ababdb0f0c767f4f6e39771f8cf6409ec6726d98e52d3d793d5d6ce488\",\"dweb:/ipfs/QmSe2NJ4A7Y77G16sBb6bUFbLf3FV4DYsmgtteEJWMLMVF\"]},\"contracts/interfaces/IVotingEscrow.sol\":{\"keccak256\":\"0xaed80a326e2d0634af7525a764c796e87357c709563e65de722752b037ae2176\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7334245791e9c4cc45f180b117daf644c6e86871998d69bed5630d907ec84764\",\"dweb:/ipfs/QmasGnpeTsJrjVR2k55HwRYV8kQCGMybzUd3HUsAU1pWTV\"]},\"contracts/libraries/DelegationLogicLibrary.sol\":{\"keccak256\":\"0x0aaa0a07f2215604ab446abddda9ffcccd8be4221d4d5fce0fe5e666f36dd236\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://2a693c868c416a0cf18297ac40ceb80cf2f5479c4b309565b314230f60547b56\",\"dweb:/ipfs/QmTSfAdcMFhVrgjc6UreJ4fzujCMoS9iU8W2czfM68mFYN\"]},\"contracts/libraries/SafeCastLibrary.sol\":{\"keccak256\":\"0x7801f71a9137973e0116f78d298f74ba924bef2c981ca552531c59218441e61b\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://cae5159d2670558a66f60c2269657c6fd98acf6779f1bd4182ac1d362b923951\",\"dweb:/ipfs/QmZAAe8PBDfC4CTDrfoLzfJ5Es3GuDGQ6FxBcG6wYvCaLC\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol\":{\"keccak256\":\"0xd04b0f06e0666f29cf7cccc82894de541e19bb30a765b107b1e40bb7fe5f7d7a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7b652499d098e88d8d878374616bb58434301061cae2253298b3f374044e0ddb\",\"dweb:/ipfs/QmbhAzctqo5jrSKU6idHdVyqfmzCcDbNUPvmx4GiXxfA6q\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC4906.sol\":{\"keccak256\":\"0x57a2cf3544afc13eba3ad57a4f71d229da29f13ad9c365f31eda05e26a5f810c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://06c7ba983e1c10b02070776f07495cd28906570923290f193fad3f127d8ecb64\",\"dweb:/ipfs/Qmdb7sqnyafGzbdnzx7GVutiHyMQH9WpKu581sjpCXkwJb\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC6372.sol\":{\"keccak256\":\"0x9215f1ff3c15ee9f7c2157fe5762fd01a0c511183a6273b86b320ae49001f1a0\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://dcd0412ac5996410565d49a6dc18361f1d82670761793cd0646589aaf2dcefde\",\"dweb:/ipfs/QmVfz2Xha8uRPcNmgNXMU9gwVzfk64RxGowUzwtduoonsp\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC721.sol\":{\"keccak256\":\"0xaf297d12d8d4a57fe01a70f0ef38908f208e3faedc577056d0b728fa2f3ccf0c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fbfaf37123958822a2720a4ea29651be00edab787540b770f73d3e025d286ff8\",\"dweb:/ipfs/QmbzgWeTm8hJVUqWrNAwFjshqbYVyeGpQA8D1huzxQdmw6\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0x41bbb2c41036ca64b2f6c9e973e8cfaa113ebc42af86702cd0d267f915a7e886\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6bf6699c55e82c7af6ae90b61ea9643ca0c905097da9a31269319f1b5a2a696a\",\"dweb:/ipfs/QmRJZa2UmWcRo6W8JnuomwzfjVtAS21QC8HKggxBhoPsU4\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/extensions/IERC721Metadata.sol\":{\"keccak256\":\"0x75b829ff2f26c14355d1cba20e16fe7b29ca58eb5fef665ede48bc0f9c6c74b9\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a0a107160525724f9e1bbbab031defc2f298296dd9e331f16a6f7130cec32146\",\"dweb:/ipfs/QmemujxSd7gX8A9M8UwmNbz4Ms3U9FG9QfudUgxwvTmPWf\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f\",\"dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.19+commit.7dd6d404"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"SafeCastUnderflow"}],"devdoc":{"kind":"dev","methods":{"checkpointDelegatee(mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,uint256,uint256,bool)":{"details":"If used with `balance` == `_locked[_tokenId].amount`, then this is the same as      delegating or dedelegating from `_tokenId`      If used with `balance` < `_locked[_tokenId].amount`, then this is used to adjust      `delegatedBalance` when a user's balance is modified (e.g. `increaseAmount`, `merge` etc).      If `delegatee` is 0 (i.e. user is not delegating), then do nothing.","params":{"_checkpoints":"State of all user checkpoints","_delegatee":"The delegatee's tokenId","_increase":"True if balance is increasing, false if decreasing","_numCheckpoints":"State of all user checkpoint counts","balance_":"The delta in balance change"}},"checkpointDelegator(mapping(uint256 => IVotingEscrow.LockedBalance) storage,mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,mapping(uint256 => uint256) storage,uint256,uint256,address)":{"details":"This function depends on `_locked` and must be called prior to token state changes.      If you wish to dedelegate only, use `_delegate(tokenId, 0)` instead.","params":{"_checkpoints":"State of all user checkpoints","_delegatee":"The new delegatee for the delegator. Cannot be equal to `_delegator` (use 0 instead).","_delegates":"State of all user delegatees","_delegator":"The delegator to update checkpoints for","_locked":"State of all locked balances","_numCheckpoints":"State of all user checkpoint counts","_owner":"The new (or current) owner for the delegator"}},"getPastVotes(mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,address,uint256,uint256)":{"details":"If a checkpoint does not exist prior to the timestamp, this will return 0.      The user must also own the token at the time in order to receive a voting balance.","params":{"_account":".","_checkpoints":"State of all user checkpoints","_numCheckpoints":"State of all user checkpoint counts","_timestamp":".","_tokenId":"."},"returns":{"_0":"Total voting balance including delegations at a given timestamp."}}},"version":1},"userdoc":{"kind":"user","methods":{"checkpointDelegatee(mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,uint256,uint256,bool)":{"notice":"Update delegatee's `delegatedBalance` by `balance`.         Only updates if delegating to a new delegatee."},"checkpointDelegator(mapping(uint256 => IVotingEscrow.LockedBalance) storage,mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,mapping(uint256 => uint256) storage,uint256,uint256,address)":{"notice":"Used by `_mint`, `_transferFrom`, `_burn` and `delegate`         to update delegator voting checkpoints.         Automatically dedelegates, then updates checkpoint."},"getPastVotes(mapping(uint256 => uint48) storage,mapping(uint256 => mapping(uint48 => IVotingEscrow.Checkpoint)) storage,address,uint256,uint256)":{"notice":"Retrieves historical voting balance for a token id at a given timestamp."}},"version":1}},"settings":{"remappings":["@opengsn/=lib/gsn/packages/","@openzeppelin/=lib/openzeppelin-contracts/","@uniswap/v3-core/=lib/v3-core/","ds-test/=lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","eth-gas-reporter/=node_modules/eth-gas-reporter/","forge-std/=lib/forge-std/src/","gsn/=lib/gsn/","hardhat-deploy/=node_modules/hardhat-deploy/","hardhat/=node_modules/hardhat/","openzeppelin-contracts/=lib/openzeppelin-contracts/","utils/=test/utils/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/libraries/DelegationLogicLibrary.sol":"DelegationLogicLibrary"},"libraries":{}},"sources":{"contracts/governance/IVotes.sol":{"keccak256":"0xe8e442e8dbcb52d105c44572f513378026b076c8c851905e0e05d97357f1cbcc","urls":["bzz-raw://176a23ababdb0f0c767f4f6e39771f8cf6409ec6726d98e52d3d793d5d6ce488","dweb:/ipfs/QmSe2NJ4A7Y77G16sBb6bUFbLf3FV4DYsmgtteEJWMLMVF"],"license":"BUSL-1.1"},"contracts/interfaces/IVotingEscrow.sol":{"keccak256":"0xaed80a326e2d0634af7525a764c796e87357c709563e65de722752b037ae2176","urls":["bzz-raw://7334245791e9c4cc45f180b117daf644c6e86871998d69bed5630d907ec84764","dweb:/ipfs/QmasGnpeTsJrjVR2k55HwRYV8kQCGMybzUd3HUsAU1pWTV"],"license":"MIT"},"contracts/libraries/DelegationLogicLibrary.sol":{"keccak256":"0x0aaa0a07f2215604ab446abddda9ffcccd8be4221d4d5fce0fe5e666f36dd236","urls":["bzz-raw://2a693c868c416a0cf18297ac40ceb80cf2f5479c4b309565b314230f60547b56","dweb:/ipfs/QmTSfAdcMFhVrgjc6UreJ4fzujCMoS9iU8W2czfM68mFYN"],"license":"BUSL-1.1"},"contracts/libraries/SafeCastLibrary.sol":{"keccak256":"0x7801f71a9137973e0116f78d298f74ba924bef2c981ca552531c59218441e61b","urls":["bzz-raw://cae5159d2670558a66f60c2269657c6fd98acf6779f1bd4182ac1d362b923951","dweb:/ipfs/QmZAAe8PBDfC4CTDrfoLzfJ5Es3GuDGQ6FxBcG6wYvCaLC"],"license":"BUSL-1.1"},"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol":{"keccak256":"0xd04b0f06e0666f29cf7cccc82894de541e19bb30a765b107b1e40bb7fe5f7d7a","urls":["bzz-raw://7b652499d098e88d8d878374616bb58434301061cae2253298b3f374044e0ddb","dweb:/ipfs/QmbhAzctqo5jrSKU6idHdVyqfmzCcDbNUPvmx4GiXxfA6q"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC4906.sol":{"keccak256":"0x57a2cf3544afc13eba3ad57a4f71d229da29f13ad9c365f31eda05e26a5f810c","urls":["bzz-raw://06c7ba983e1c10b02070776f07495cd28906570923290f193fad3f127d8ecb64","dweb:/ipfs/Qmdb7sqnyafGzbdnzx7GVutiHyMQH9WpKu581sjpCXkwJb"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC6372.sol":{"keccak256":"0x9215f1ff3c15ee9f7c2157fe5762fd01a0c511183a6273b86b320ae49001f1a0","urls":["bzz-raw://dcd0412ac5996410565d49a6dc18361f1d82670761793cd0646589aaf2dcefde","dweb:/ipfs/QmVfz2Xha8uRPcNmgNXMU9gwVzfk64RxGowUzwtduoonsp"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC721.sol":{"keccak256":"0xaf297d12d8d4a57fe01a70f0ef38908f208e3faedc577056d0b728fa2f3ccf0c","urls":["bzz-raw://fbfaf37123958822a2720a4ea29651be00edab787540b770f73d3e025d286ff8","dweb:/ipfs/QmbzgWeTm8hJVUqWrNAwFjshqbYVyeGpQA8D1huzxQdmw6"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0x41bbb2c41036ca64b2f6c9e973e8cfaa113ebc42af86702cd0d267f915a7e886","urls":["bzz-raw://6bf6699c55e82c7af6ae90b61ea9643ca0c905097da9a31269319f1b5a2a696a","dweb:/ipfs/QmRJZa2UmWcRo6W8JnuomwzfjVtAS21QC8HKggxBhoPsU4"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/extensions/IERC721Metadata.sol":{"keccak256":"0x75b829ff2f26c14355d1cba20e16fe7b29ca58eb5fef665ede48bc0f9c6c74b9","urls":["bzz-raw://a0a107160525724f9e1bbbab031defc2f298296dd9e331f16a6f7130cec32146","dweb:/ipfs/QmemujxSd7gX8A9M8UwmNbz4Ms3U9FG9QfudUgxwvTmPWf"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1","urls":["bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f","dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"contracts/libraries/DelegationLogicLibrary.sol","id":37141,"exportedSymbols":{"DelegationLogicLibrary":[37140],"IVotingEscrow":[35447],"SafeCastLibrary":[37203]},"nodeType":"SourceUnit","src":"37:8308:52","nodes":[{"id":36589,"nodeType":"PragmaDirective","src":"37:23:52","nodes":[],"literals":["solidity","0.8",".19"]},{"id":36591,"nodeType":"ImportDirective","src":"62:62:52","nodes":[],"absolutePath":"contracts/interfaces/IVotingEscrow.sol","file":"../interfaces/IVotingEscrow.sol","nameLocation":"-1:-1:-1","scope":37141,"sourceUnit":35448,"symbolAliases":[{"foreign":{"id":36590,"name":"IVotingEscrow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35447,"src":"70:13:52","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":36593,"nodeType":"ImportDirective","src":"125:54:52","nodes":[],"absolutePath":"contracts/libraries/SafeCastLibrary.sol","file":"./SafeCastLibrary.sol","nameLocation":"-1:-1:-1","scope":37141,"sourceUnit":37204,"symbolAliases":[{"foreign":{"id":36592,"name":"SafeCastLibrary","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37203,"src":"133:15:52","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":37140,"nodeType":"ContractDefinition","src":"181:8163:52","nodes":[{"id":36596,"nodeType":"UsingForDirective","src":"218:33:52","nodes":[],"global":false,"libraryName":{"id":36594,"name":"SafeCastLibrary","nameLocations":["224:15:52"],"nodeType":"IdentifierPath","referencedDeclaration":37203,"src":"224:15:52"},"typeName":{"id":36595,"name":"int128","nodeType":"ElementaryTypeName","src":"244:6:52","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}},{"id":36746,"nodeType":"FunctionDefinition","src":"1110:1437:52","nodes":[],"body":{"id":36745,"nodeType":"Block","src":"1517:1030:52","nodes":[],"statements":[{"assignments":[36627],"declarations":[{"constant":false,"id":36627,"mutability":"mutable","name":"delegatedBalance","nameLocation":"1535:16:52","nodeType":"VariableDeclaration","scope":36745,"src":"1527:24:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36626,"name":"uint256","nodeType":"ElementaryTypeName","src":"1527:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36634,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"baseExpression":{"id":36628,"name":"_locked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36602,"src":"1554:7:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_LockedBalance_$34597_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.LockedBalance storage ref)"}},"id":36630,"indexExpression":{"id":36629,"name":"_delegator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36619,"src":"1562:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1554:19:52","typeDescriptions":{"typeIdentifier":"t_struct$_LockedBalance_$34597_storage","typeString":"struct IVotingEscrow.LockedBalance storage ref"}},"id":36631,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1574:6:52","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":34592,"src":"1554:26:52","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":36632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1581:9:52","memberName":"toUint256","nodeType":"MemberAccess","referencedDeclaration":37202,"src":"1554:36:52","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int128_$returns$_t_uint256_$attached_to$_t_int128_$","typeString":"function (int128) pure returns (uint256)"}},"id":36633,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1554:38:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1527:65:52"},{"assignments":[36636],"declarations":[{"constant":false,"id":36636,"mutability":"mutable","name":"numCheckpoint","nameLocation":"1609:13:52","nodeType":"VariableDeclaration","scope":36745,"src":"1602:20:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":36635,"name":"uint48","nodeType":"ElementaryTypeName","src":"1602:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"id":36640,"initialValue":{"baseExpression":{"id":36637,"name":"_numCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36606,"src":"1625:15:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"}},"id":36639,"indexExpression":{"id":36638,"name":"_delegator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36619,"src":"1641:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1625:27:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"VariableDeclarationStatement","src":"1602:50:52"},{"assignments":[36645],"declarations":[{"constant":false,"id":36645,"mutability":"mutable","name":"cpOld","nameLocation":"1695:5:52","nodeType":"VariableDeclaration","scope":36745,"src":"1662:38:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"},"typeName":{"id":36644,"nodeType":"UserDefinedTypeName","pathNode":{"id":36643,"name":"IVotingEscrow.Checkpoint","nameLocations":["1662:13:52","1676:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"1662:24:52"},"referencedDeclaration":34628,"src":"1662:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}},"visibility":"internal"}],"id":36662,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36648,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36646,"name":"numCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36636,"src":"1703:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":36647,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1719:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1703:17:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"baseExpression":{"baseExpression":{"id":36656,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36613,"src":"1793:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36658,"indexExpression":{"id":36657,"name":"_delegator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36619,"src":"1806:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1793:24:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36660,"indexExpression":{"hexValue":"30","id":36659,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1818:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1793:27:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"id":36661,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"1703:117:52","trueExpression":{"baseExpression":{"baseExpression":{"id":36649,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36613,"src":"1735:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36651,"indexExpression":{"id":36650,"name":"_delegator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36619,"src":"1748:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1735:24:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36655,"indexExpression":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36654,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36652,"name":"numCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36636,"src":"1760:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":36653,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1776:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1760:17:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1735:43:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"1662:158:52"},{"expression":{"arguments":[{"id":36664,"name":"_numCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36606,"src":"1900:15:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"}},{"id":36665,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36613,"src":"1917:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},{"expression":{"id":36666,"name":"cpOld","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36645,"src":"1931:5:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36667,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1937:9:52","memberName":"delegatee","nodeType":"MemberAccess","referencedDeclaration":34627,"src":"1931:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36668,"name":"delegatedBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36627,"src":"1948:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":36669,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1966:5:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":36663,"name":"checkpointDelegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36885,"src":"1880:19:52","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_mapping$_t_uint256_$_t_uint48_$_$_t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$_$_t_uint256_$_t_uint256_$_t_bool_$returns$__$","typeString":"function (mapping(uint256 => uint48),mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)),uint256,uint256,bool)"}},"id":36670,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1880:92:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36671,"nodeType":"ExpressionStatement","src":"1880:92:52"},{"assignments":[36676],"declarations":[{"constant":false,"id":36676,"mutability":"mutable","name":"cp","nameLocation":"2015:2:52","nodeType":"VariableDeclaration","scope":36745,"src":"1982:35:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"},"typeName":{"id":36675,"nodeType":"UserDefinedTypeName","pathNode":{"id":36674,"name":"IVotingEscrow.Checkpoint","nameLocations":["1982:13:52","1996:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"1982:24:52"},"referencedDeclaration":34628,"src":"1982:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}},"visibility":"internal"}],"id":36682,"initialValue":{"baseExpression":{"baseExpression":{"id":36677,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36613,"src":"2020:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36679,"indexExpression":{"id":36678,"name":"_delegator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36619,"src":"2033:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2020:24:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36681,"indexExpression":{"id":36680,"name":"numCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36636,"src":"2045:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2020:39:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"nodeType":"VariableDeclarationStatement","src":"1982:77:52"},{"expression":{"id":36688,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":36683,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36676,"src":"2069:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36685,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2072:13:52","memberName":"fromTimestamp","nodeType":"MemberAccess","referencedDeclaration":34621,"src":"2069:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":36686,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"2088:5:52","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":36687,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2094:9:52","memberName":"timestamp","nodeType":"MemberAccess","src":"2088:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2069:34:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36689,"nodeType":"ExpressionStatement","src":"2069:34:52"},{"expression":{"id":36695,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":36690,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36676,"src":"2113:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36692,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2116:16:52","memberName":"delegatedBalance","nodeType":"MemberAccess","referencedDeclaration":34625,"src":"2113:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":36693,"name":"cpOld","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36645,"src":"2135:5:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36694,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2141:16:52","memberName":"delegatedBalance","nodeType":"MemberAccess","referencedDeclaration":34625,"src":"2135:22:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2113:44:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36696,"nodeType":"ExpressionStatement","src":"2113:44:52"},{"expression":{"id":36701,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":36697,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36676,"src":"2167:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36699,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2170:9:52","memberName":"delegatee","nodeType":"MemberAccess","referencedDeclaration":34627,"src":"2167:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":36700,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36621,"src":"2182:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2167:25:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36702,"nodeType":"ExpressionStatement","src":"2167:25:52"},{"expression":{"id":36707,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":36703,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36676,"src":"2202:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36705,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2205:5:52","memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":34623,"src":"2202:8:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":36706,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36623,"src":"2213:6:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2202:17:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":36708,"nodeType":"ExpressionStatement","src":"2202:17:52"},{"condition":{"arguments":[{"id":36710,"name":"_numCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36606,"src":"2258:15:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"}},{"id":36711,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36613,"src":"2275:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},{"id":36712,"name":"_delegator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36619,"src":"2289:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36709,"name":"_isCheckpointInNewBlock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36932,"src":"2234:23:52","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_mapping$_t_uint256_$_t_uint48_$_$_t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$_$_t_uint256_$returns$_t_bool_$","typeString":"function (mapping(uint256 => uint48),mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)),uint256) view returns (bool)"}},"id":36713,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2234:66:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":36737,"nodeType":"Block","src":"2362:133:52","statements":[{"expression":{"id":36728,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":36720,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36613,"src":"2376:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36725,"indexExpression":{"id":36721,"name":"_delegator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36619,"src":"2389:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2376:24:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36726,"indexExpression":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36722,"name":"numCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36636,"src":"2401:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":36723,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2417:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2401:17:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2376:43:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":36727,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36676,"src":"2422:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"src":"2376:48:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"id":36729,"nodeType":"ExpressionStatement","src":"2376:48:52"},{"expression":{"id":36735,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"2438:46:52","subExpression":{"baseExpression":{"baseExpression":{"id":36730,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36613,"src":"2445:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36732,"indexExpression":{"id":36731,"name":"_delegator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36619,"src":"2458:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2445:24:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36734,"indexExpression":{"id":36733,"name":"numCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36636,"src":"2470:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2445:39:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36736,"nodeType":"ExpressionStatement","src":"2438:46:52"}]},"id":36738,"nodeType":"IfStatement","src":"2230:265:52","trueBody":{"id":36719,"nodeType":"Block","src":"2302:54:52","statements":[{"expression":{"id":36717,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"2316:29:52","subExpression":{"baseExpression":{"id":36714,"name":"_numCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36606,"src":"2316:15:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"}},"id":36716,"indexExpression":{"id":36715,"name":"_delegator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36619,"src":"2332:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2316:27:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"id":36718,"nodeType":"ExpressionStatement","src":"2316:29:52"}]}},{"expression":{"id":36743,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":36739,"name":"_delegates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36617,"src":"2505:10:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":36741,"indexExpression":{"id":36740,"name":"_delegator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36619,"src":"2516:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2505:22:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":36742,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36621,"src":"2530:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2505:35:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36744,"nodeType":"ExpressionStatement","src":"2505:35:52"}]},"documentation":{"id":36597,"nodeType":"StructuredDocumentation","src":"257:848:52","text":"@notice Used by `_mint`, `_transferFrom`, `_burn` and `delegate`\n         to update delegator voting checkpoints.\n         Automatically dedelegates, then updates checkpoint.\n @dev This function depends on `_locked` and must be called prior to token state changes.\n      If you wish to dedelegate only, use `_delegate(tokenId, 0)` instead.\n @param _locked State of all locked balances\n @param _numCheckpoints State of all user checkpoint counts\n @param _checkpoints State of all user checkpoints\n @param _delegates State of all user delegatees\n @param _delegator The delegator to update checkpoints for\n @param _delegatee The new delegatee for the delegator. Cannot be equal to `_delegator` (use 0 instead).\n @param _owner The new (or current) owner for the delegator"},"functionSelector":"690f66bf","implemented":true,"kind":"function","modifiers":[],"name":"checkpointDelegator","nameLocation":"1119:19:52","parameters":{"id":36624,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36602,"mutability":"mutable","name":"_locked","nameLocation":"1204:7:52","nodeType":"VariableDeclaration","scope":36746,"src":"1148:63:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_LockedBalance_$34597_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.LockedBalance)"},"typeName":{"id":36601,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36598,"name":"uint256","nodeType":"ElementaryTypeName","src":"1156:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1148:47:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_LockedBalance_$34597_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.LockedBalance)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36600,"nodeType":"UserDefinedTypeName","pathNode":{"id":36599,"name":"IVotingEscrow.LockedBalance","nameLocations":["1167:13:52","1181:13:52"],"nodeType":"IdentifierPath","referencedDeclaration":34597,"src":"1167:27:52"},"referencedDeclaration":34597,"src":"1167:27:52","typeDescriptions":{"typeIdentifier":"t_struct$_LockedBalance_$34597_storage_ptr","typeString":"struct IVotingEscrow.LockedBalance"}}},"visibility":"internal"},{"constant":false,"id":36606,"mutability":"mutable","name":"_numCheckpoints","nameLocation":"1256:15:52","nodeType":"VariableDeclaration","scope":36746,"src":"1221:50:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},"typeName":{"id":36605,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36603,"name":"uint256","nodeType":"ElementaryTypeName","src":"1229:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1221:26:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36604,"name":"uint48","nodeType":"ElementaryTypeName","src":"1240:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}},"visibility":"internal"},{"constant":false,"id":36613,"mutability":"mutable","name":"_checkpoints","nameLocation":"1353:12:52","nodeType":"VariableDeclaration","scope":36746,"src":"1281:84:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint))"},"typeName":{"id":36612,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36607,"name":"uint256","nodeType":"ElementaryTypeName","src":"1289:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1281:63:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint))"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36611,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36608,"name":"uint48","nodeType":"ElementaryTypeName","src":"1308:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"Mapping","src":"1300:43:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36610,"nodeType":"UserDefinedTypeName","pathNode":{"id":36609,"name":"IVotingEscrow.Checkpoint","nameLocations":["1318:13:52","1332:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"1318:24:52"},"referencedDeclaration":34628,"src":"1318:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}}}},"visibility":"internal"},{"constant":false,"id":36617,"mutability":"mutable","name":"_delegates","nameLocation":"1411:10:52","nodeType":"VariableDeclaration","scope":36746,"src":"1375:46:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":36616,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36614,"name":"uint256","nodeType":"ElementaryTypeName","src":"1383:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1375:27:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36615,"name":"uint256","nodeType":"ElementaryTypeName","src":"1394:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"internal"},{"constant":false,"id":36619,"mutability":"mutable","name":"_delegator","nameLocation":"1439:10:52","nodeType":"VariableDeclaration","scope":36746,"src":"1431:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36618,"name":"uint256","nodeType":"ElementaryTypeName","src":"1431:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36621,"mutability":"mutable","name":"_delegatee","nameLocation":"1467:10:52","nodeType":"VariableDeclaration","scope":36746,"src":"1459:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36620,"name":"uint256","nodeType":"ElementaryTypeName","src":"1459:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36623,"mutability":"mutable","name":"_owner","nameLocation":"1495:6:52","nodeType":"VariableDeclaration","scope":36746,"src":"1487:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":36622,"name":"address","nodeType":"ElementaryTypeName","src":"1487:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1138:369:52"},"returnParameters":{"id":36625,"nodeType":"ParameterList","parameters":[],"src":"1517:0:52"},"scope":37140,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":36885,"nodeType":"FunctionDefinition","src":"3414:1297:52","nodes":[],"body":{"id":36884,"nodeType":"Block","src":"3688:1023:52","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36769,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36767,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36760,"src":"3702:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":36768,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3716:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3702:15:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36771,"nodeType":"IfStatement","src":"3698:28:52","trueBody":{"functionReturnParameters":36766,"id":36770,"nodeType":"Return","src":"3719:7:52"}},{"assignments":[36773],"declarations":[{"constant":false,"id":36773,"mutability":"mutable","name":"numCheckpoint","nameLocation":"3742:13:52","nodeType":"VariableDeclaration","scope":36884,"src":"3735:20:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":36772,"name":"uint48","nodeType":"ElementaryTypeName","src":"3735:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"id":36777,"initialValue":{"baseExpression":{"id":36774,"name":"_numCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36751,"src":"3758:15:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"}},"id":36776,"indexExpression":{"id":36775,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36760,"src":"3774:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3758:27:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"VariableDeclarationStatement","src":"3735:50:52"},{"assignments":[36782],"declarations":[{"constant":false,"id":36782,"mutability":"mutable","name":"cpOld","nameLocation":"3828:5:52","nodeType":"VariableDeclaration","scope":36884,"src":"3795:38:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"},"typeName":{"id":36781,"nodeType":"UserDefinedTypeName","pathNode":{"id":36780,"name":"IVotingEscrow.Checkpoint","nameLocations":["3795:13:52","3809:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"3795:24:52"},"referencedDeclaration":34628,"src":"3795:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}},"visibility":"internal"}],"id":36799,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36785,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36783,"name":"numCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36773,"src":"3836:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":36784,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3852:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3836:17:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"baseExpression":{"baseExpression":{"id":36793,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36758,"src":"3926:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36795,"indexExpression":{"id":36794,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36760,"src":"3939:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3926:24:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36797,"indexExpression":{"hexValue":"30","id":36796,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3951:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3926:27:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"id":36798,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"3836:117:52","trueExpression":{"baseExpression":{"baseExpression":{"id":36786,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36758,"src":"3868:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36788,"indexExpression":{"id":36787,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36760,"src":"3881:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3868:24:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36792,"indexExpression":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36791,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36789,"name":"numCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36773,"src":"3893:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":36790,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3909:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"3893:17:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3868:43:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"3795:158:52"},{"assignments":[36804],"declarations":[{"constant":false,"id":36804,"mutability":"mutable","name":"cp","nameLocation":"3996:2:52","nodeType":"VariableDeclaration","scope":36884,"src":"3963:35:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"},"typeName":{"id":36803,"nodeType":"UserDefinedTypeName","pathNode":{"id":36802,"name":"IVotingEscrow.Checkpoint","nameLocations":["3963:13:52","3977:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"3963:24:52"},"referencedDeclaration":34628,"src":"3963:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}},"visibility":"internal"}],"id":36810,"initialValue":{"baseExpression":{"baseExpression":{"id":36805,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36758,"src":"4001:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36807,"indexExpression":{"id":36806,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36760,"src":"4014:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4001:24:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36809,"indexExpression":{"id":36808,"name":"numCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36773,"src":"4026:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4001:39:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3963:77:52"},{"expression":{"id":36816,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":36811,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36804,"src":"4050:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36813,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4053:13:52","memberName":"fromTimestamp","nodeType":"MemberAccess","referencedDeclaration":34621,"src":"4050:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":36814,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"4069:5:52","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":36815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4075:9:52","memberName":"timestamp","nodeType":"MemberAccess","src":"4069:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4050:34:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36817,"nodeType":"ExpressionStatement","src":"4050:34:52"},{"expression":{"id":36823,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":36818,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36804,"src":"4094:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36820,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4097:5:52","memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":34623,"src":"4094:8:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":36821,"name":"cpOld","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36782,"src":"4105:5:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36822,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4111:5:52","memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":34623,"src":"4105:11:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4094:22:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":36824,"nodeType":"ExpressionStatement","src":"4094:22:52"},{"expression":{"id":36845,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":36825,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36804,"src":"4220:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36827,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4223:16:52","memberName":"delegatedBalance","nodeType":"MemberAccess","referencedDeclaration":34625,"src":"4220:19:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"id":36828,"name":"_increase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36764,"src":"4242:9:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"components":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36833,"name":"balance_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36762,"src":"4315:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":36834,"name":"cpOld","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36782,"src":"4326:5:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36835,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4332:16:52","memberName":"delegatedBalance","nodeType":"MemberAccess","referencedDeclaration":34625,"src":"4326:22:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4315:33:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"hexValue":"30","id":36841,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4387:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"id":36842,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4315:73:52","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36840,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":36837,"name":"cpOld","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36782,"src":"4351:5:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36838,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4357:16:52","memberName":"delegatedBalance","nodeType":"MemberAccess","referencedDeclaration":34625,"src":"4351:22:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":36839,"name":"balance_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36762,"src":"4376:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4351:33:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36843,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4314:75:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36844,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4242:147:52","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36832,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":36829,"name":"cpOld","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36782,"src":"4266:5:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36830,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4272:16:52","memberName":"delegatedBalance","nodeType":"MemberAccess","referencedDeclaration":34625,"src":"4266:22:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":36831,"name":"balance_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36762,"src":"4291:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4266:33:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4220:169:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36846,"nodeType":"ExpressionStatement","src":"4220:169:52"},{"expression":{"id":36852,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":36847,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36804,"src":"4399:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36849,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4402:9:52","memberName":"delegatee","nodeType":"MemberAccess","referencedDeclaration":34627,"src":"4399:12:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":36850,"name":"cpOld","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36782,"src":"4414:5:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":36851,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4420:9:52","memberName":"delegatee","nodeType":"MemberAccess","referencedDeclaration":34627,"src":"4414:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4399:30:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36853,"nodeType":"ExpressionStatement","src":"4399:30:52"},{"condition":{"arguments":[{"id":36855,"name":"_numCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36751,"src":"4468:15:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"}},{"id":36856,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36758,"src":"4485:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},{"id":36857,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36760,"src":"4499:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36854,"name":"_isCheckpointInNewBlock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36932,"src":"4444:23:52","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_mapping$_t_uint256_$_t_uint48_$_$_t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$_$_t_uint256_$returns$_t_bool_$","typeString":"function (mapping(uint256 => uint48),mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)),uint256) view returns (bool)"}},"id":36858,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4444:66:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":36882,"nodeType":"Block","src":"4572:133:52","statements":[{"expression":{"id":36873,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":36865,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36758,"src":"4586:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36870,"indexExpression":{"id":36866,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36760,"src":"4599:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4586:24:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36871,"indexExpression":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36869,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36867,"name":"numCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36773,"src":"4611:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":36868,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4627:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"4611:17:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4586:43:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":36872,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36804,"src":"4632:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"src":"4586:48:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"id":36874,"nodeType":"ExpressionStatement","src":"4586:48:52"},{"expression":{"id":36880,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"4648:46:52","subExpression":{"baseExpression":{"baseExpression":{"id":36875,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36758,"src":"4655:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36877,"indexExpression":{"id":36876,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36760,"src":"4668:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4655:24:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36879,"indexExpression":{"id":36878,"name":"numCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36773,"src":"4680:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4655:39:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36881,"nodeType":"ExpressionStatement","src":"4648:46:52"}]},"id":36883,"nodeType":"IfStatement","src":"4440:265:52","trueBody":{"id":36864,"nodeType":"Block","src":"4512:54:52","statements":[{"expression":{"id":36862,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4526:29:52","subExpression":{"baseExpression":{"id":36859,"name":"_numCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36751,"src":"4526:15:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"}},"id":36861,"indexExpression":{"id":36860,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36760,"src":"4542:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4526:27:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"id":36863,"nodeType":"ExpressionStatement","src":"4526:29:52"}]}}]},"documentation":{"id":36747,"nodeType":"StructuredDocumentation","src":"2553:856:52","text":"@notice Update delegatee's `delegatedBalance` by `balance`.\n         Only updates if delegating to a new delegatee.\n @dev If used with `balance` == `_locked[_tokenId].amount`, then this is the same as\n      delegating or dedelegating from `_tokenId`\n      If used with `balance` < `_locked[_tokenId].amount`, then this is used to adjust\n      `delegatedBalance` when a user's balance is modified (e.g. `increaseAmount`, `merge` etc).\n      If `delegatee` is 0 (i.e. user is not delegating), then do nothing.\n @param _numCheckpoints State of all user checkpoint counts\n @param _checkpoints State of all user checkpoints\n @param _delegatee The delegatee's tokenId\n @param balance_ The delta in balance change\n @param _increase True if balance is increasing, false if decreasing"},"functionSelector":"ebe33372","implemented":true,"kind":"function","modifiers":[],"name":"checkpointDelegatee","nameLocation":"3423:19:52","parameters":{"id":36765,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36751,"mutability":"mutable","name":"_numCheckpoints","nameLocation":"3487:15:52","nodeType":"VariableDeclaration","scope":36885,"src":"3452:50:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},"typeName":{"id":36750,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36748,"name":"uint256","nodeType":"ElementaryTypeName","src":"3460:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"3452:26:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36749,"name":"uint48","nodeType":"ElementaryTypeName","src":"3471:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}},"visibility":"internal"},{"constant":false,"id":36758,"mutability":"mutable","name":"_checkpoints","nameLocation":"3584:12:52","nodeType":"VariableDeclaration","scope":36885,"src":"3512:84:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint))"},"typeName":{"id":36757,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36752,"name":"uint256","nodeType":"ElementaryTypeName","src":"3520:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"3512:63:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint))"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36756,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36753,"name":"uint48","nodeType":"ElementaryTypeName","src":"3539:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"Mapping","src":"3531:43:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36755,"nodeType":"UserDefinedTypeName","pathNode":{"id":36754,"name":"IVotingEscrow.Checkpoint","nameLocations":["3549:13:52","3563:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"3549:24:52"},"referencedDeclaration":34628,"src":"3549:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}}}},"visibility":"internal"},{"constant":false,"id":36760,"mutability":"mutable","name":"_delegatee","nameLocation":"3614:10:52","nodeType":"VariableDeclaration","scope":36885,"src":"3606:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36759,"name":"uint256","nodeType":"ElementaryTypeName","src":"3606:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36762,"mutability":"mutable","name":"balance_","nameLocation":"3642:8:52","nodeType":"VariableDeclaration","scope":36885,"src":"3634:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36761,"name":"uint256","nodeType":"ElementaryTypeName","src":"3634:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36764,"mutability":"mutable","name":"_increase","nameLocation":"3665:9:52","nodeType":"VariableDeclaration","scope":36885,"src":"3660:14:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36763,"name":"bool","nodeType":"ElementaryTypeName","src":"3660:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3442:238:52"},"returnParameters":{"id":36766,"nodeType":"ParameterList","parameters":[],"src":"3688:0:52"},"scope":37140,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":36932,"nodeType":"FunctionDefinition","src":"4717:503:52","nodes":[],"body":{"id":36931,"nodeType":"Block","src":"4965:255:52","nodes":[],"statements":[{"assignments":[36904],"declarations":[{"constant":false,"id":36904,"mutability":"mutable","name":"_nCheckPoints","nameLocation":"4982:13:52","nodeType":"VariableDeclaration","scope":36931,"src":"4975:20:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":36903,"name":"uint48","nodeType":"ElementaryTypeName","src":"4975:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"id":36908,"initialValue":{"baseExpression":{"id":36905,"name":"_numCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36889,"src":"4998:15:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"}},"id":36907,"indexExpression":{"id":36906,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36898,"src":"5014:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4998:25:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"VariableDeclarationStatement","src":"4975:48:52"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":36923,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36911,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36909,"name":"_nCheckPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36904,"src":"5038:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":36910,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5054:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5038:17:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36922,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"baseExpression":{"id":36912,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36896,"src":"5059:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36914,"indexExpression":{"id":36913,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36898,"src":"5072:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5059:22:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36918,"indexExpression":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36917,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36915,"name":"_nCheckPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36904,"src":"5082:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":36916,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5098:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5082:17:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5059:41:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"id":36919,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5101:13:52","memberName":"fromTimestamp","nodeType":"MemberAccess","referencedDeclaration":34621,"src":"5059:55:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":36920,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"5118:5:52","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":36921,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5124:9:52","memberName":"timestamp","nodeType":"MemberAccess","src":"5118:15:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5059:74:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5038:95:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":36929,"nodeType":"Block","src":"5178:36:52","statements":[{"expression":{"hexValue":"74727565","id":36927,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5199:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":36902,"id":36928,"nodeType":"Return","src":"5192:11:52"}]},"id":36930,"nodeType":"IfStatement","src":"5034:180:52","trueBody":{"id":36926,"nodeType":"Block","src":"5135:37:52","statements":[{"expression":{"hexValue":"66616c7365","id":36924,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5156:5:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":36902,"id":36925,"nodeType":"Return","src":"5149:12:52"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_isCheckpointInNewBlock","nameLocation":"4726:23:52","parameters":{"id":36899,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36889,"mutability":"mutable","name":"_numCheckpoints","nameLocation":"4794:15:52","nodeType":"VariableDeclaration","scope":36932,"src":"4759:50:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},"typeName":{"id":36888,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36886,"name":"uint256","nodeType":"ElementaryTypeName","src":"4767:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"4759:26:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36887,"name":"uint48","nodeType":"ElementaryTypeName","src":"4778:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}},"visibility":"internal"},{"constant":false,"id":36896,"mutability":"mutable","name":"_checkpoints","nameLocation":"4891:12:52","nodeType":"VariableDeclaration","scope":36932,"src":"4819:84:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint))"},"typeName":{"id":36895,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36890,"name":"uint256","nodeType":"ElementaryTypeName","src":"4827:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"4819:63:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint))"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36894,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36891,"name":"uint48","nodeType":"ElementaryTypeName","src":"4846:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"Mapping","src":"4838:43:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36893,"nodeType":"UserDefinedTypeName","pathNode":{"id":36892,"name":"IVotingEscrow.Checkpoint","nameLocations":["4856:13:52","4870:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"4856:24:52"},"referencedDeclaration":34628,"src":"4856:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}}}},"visibility":"internal"},{"constant":false,"id":36898,"mutability":"mutable","name":"_tokenId","nameLocation":"4921:8:52","nodeType":"VariableDeclaration","scope":36932,"src":"4913:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36897,"name":"uint256","nodeType":"ElementaryTypeName","src":"4913:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4749:186:52"},"returnParameters":{"id":36902,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36901,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":36932,"src":"4959:4:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36900,"name":"bool","nodeType":"ElementaryTypeName","src":"4959:4:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4958:6:52"},"scope":37140,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":37057,"nodeType":"FunctionDefinition","src":"5646:1187:52","nodes":[],"body":{"id":37056,"nodeType":"Block","src":"5918:915:52","nodes":[],"statements":[{"assignments":[36954],"declarations":[{"constant":false,"id":36954,"mutability":"mutable","name":"nCheckpoints","nameLocation":"5935:12:52","nodeType":"VariableDeclaration","scope":37056,"src":"5928:19:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":36953,"name":"uint48","nodeType":"ElementaryTypeName","src":"5928:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"id":36958,"initialValue":{"baseExpression":{"id":36955,"name":"_numCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36937,"src":"5950:15:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"}},"id":36957,"indexExpression":{"id":36956,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36946,"src":"5966:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5950:25:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"VariableDeclarationStatement","src":"5928:47:52"},{"condition":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36961,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36959,"name":"nCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36954,"src":"5989:12:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":36960,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6005:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5989:17:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36964,"nodeType":"IfStatement","src":"5985:31:52","trueBody":{"expression":{"hexValue":"30","id":36962,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6015:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":36952,"id":36963,"nodeType":"Return","src":"6008:8:52"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36974,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"baseExpression":{"id":36965,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36944,"src":"6073:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36967,"indexExpression":{"id":36966,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36946,"src":"6086:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6073:22:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36971,"indexExpression":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36970,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36968,"name":"nCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36954,"src":"6096:12:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":36969,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6111:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"6096:16:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6073:40:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"id":36972,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6114:13:52","memberName":"fromTimestamp","nodeType":"MemberAccess","referencedDeclaration":34621,"src":"6073:54:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":36973,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36948,"src":"6131:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6073:68:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36980,"nodeType":"IfStatement","src":"6069:99:52","trueBody":{"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":36977,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36975,"name":"nCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36954,"src":"6151:12:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":36976,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6166:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"6151:16:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}],"id":36978,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"6150:18:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"functionReturnParameters":36952,"id":36979,"nodeType":"Return","src":"6143:25:52"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36988,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"baseExpression":{"id":36981,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36944,"src":"6226:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":36983,"indexExpression":{"id":36982,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36946,"src":"6239:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6226:22:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":36985,"indexExpression":{"hexValue":"30","id":36984,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6249:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6226:25:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"id":36986,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6252:13:52","memberName":"fromTimestamp","nodeType":"MemberAccess","referencedDeclaration":34621,"src":"6226:39:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":36987,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36948,"src":"6268:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6226:52:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36991,"nodeType":"IfStatement","src":"6222:66:52","trueBody":{"expression":{"hexValue":"30","id":36989,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6287:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":36952,"id":36990,"nodeType":"Return","src":"6280:8:52"}},{"assignments":[36993],"declarations":[{"constant":false,"id":36993,"mutability":"mutable","name":"lower","nameLocation":"6306:5:52","nodeType":"VariableDeclaration","scope":37056,"src":"6299:12:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":36992,"name":"uint48","nodeType":"ElementaryTypeName","src":"6299:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"id":36995,"initialValue":{"hexValue":"30","id":36994,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6314:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"6299:16:52"},{"assignments":[36997],"declarations":[{"constant":false,"id":36997,"mutability":"mutable","name":"upper","nameLocation":"6332:5:52","nodeType":"VariableDeclaration","scope":37056,"src":"6325:12:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":36996,"name":"uint48","nodeType":"ElementaryTypeName","src":"6325:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"id":37001,"initialValue":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":37000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36998,"name":"nCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36954,"src":"6340:12:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":36999,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6355:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"6340:16:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"VariableDeclarationStatement","src":"6325:31:52"},{"body":{"id":37052,"nodeType":"Block","src":"6388:417:52","statements":[{"assignments":[37006],"declarations":[{"constant":false,"id":37006,"mutability":"mutable","name":"center","nameLocation":"6409:6:52","nodeType":"VariableDeclaration","scope":37052,"src":"6402:13:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":37005,"name":"uint48","nodeType":"ElementaryTypeName","src":"6402:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"id":37015,"initialValue":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":37014,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":37007,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36997,"src":"6418:5:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":37013,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":37010,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":37008,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36997,"src":"6427:5:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":37009,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36993,"src":"6435:5:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"src":"6427:13:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}],"id":37011,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"6426:15:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":37012,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6444:1:52","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"6426:19:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"src":"6418:27:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"VariableDeclarationStatement","src":"6402:43:52"},{"assignments":[37020],"declarations":[{"constant":false,"id":37020,"mutability":"mutable","name":"cp","nameLocation":"6519:2:52","nodeType":"VariableDeclaration","scope":37052,"src":"6486:35:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"},"typeName":{"id":37019,"nodeType":"UserDefinedTypeName","pathNode":{"id":37018,"name":"IVotingEscrow.Checkpoint","nameLocations":["6486:13:52","6500:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"6486:24:52"},"referencedDeclaration":34628,"src":"6486:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}},"visibility":"internal"}],"id":37026,"initialValue":{"baseExpression":{"baseExpression":{"id":37021,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36944,"src":"6524:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":37023,"indexExpression":{"id":37022,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36946,"src":"6537:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6524:22:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":37025,"indexExpression":{"id":37024,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37006,"src":"6547:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6524:30:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"nodeType":"VariableDeclarationStatement","src":"6486:68:52"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":37030,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":37027,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37020,"src":"6572:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":37028,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6575:13:52","memberName":"fromTimestamp","nodeType":"MemberAccess","referencedDeclaration":34621,"src":"6572:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":37029,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36948,"src":"6592:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6572:30:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":37037,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":37034,"name":"cp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37020,"src":"6660:2:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint storage pointer"}},"id":37035,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6663:13:52","memberName":"fromTimestamp","nodeType":"MemberAccess","referencedDeclaration":34621,"src":"6660:16:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":37036,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36948,"src":"6679:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6660:29:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":37049,"nodeType":"Block","src":"6744:51:52","statements":[{"expression":{"id":37047,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":37043,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36997,"src":"6762:5:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":37046,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":37044,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37006,"src":"6770:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":37045,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6779:1:52","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"6770:10:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"src":"6762:18:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"id":37048,"nodeType":"ExpressionStatement","src":"6762:18:52"}]},"id":37050,"nodeType":"IfStatement","src":"6656:139:52","trueBody":{"id":37042,"nodeType":"Block","src":"6691:47:52","statements":[{"expression":{"id":37040,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":37038,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36993,"src":"6709:5:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":37039,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37006,"src":"6717:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"src":"6709:14:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"id":37041,"nodeType":"ExpressionStatement","src":"6709:14:52"}]}},"id":37051,"nodeType":"IfStatement","src":"6568:227:52","trueBody":{"id":37033,"nodeType":"Block","src":"6604:46:52","statements":[{"expression":{"id":37031,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37006,"src":"6629:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"functionReturnParameters":36952,"id":37032,"nodeType":"Return","src":"6622:13:52"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":37004,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":37002,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36997,"src":"6373:5:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":37003,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36993,"src":"6381:5:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"src":"6373:13:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":37053,"nodeType":"WhileStatement","src":"6366:439:52"},{"expression":{"id":37054,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36993,"src":"6821:5:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"functionReturnParameters":36952,"id":37055,"nodeType":"Return","src":"6814:12:52"}]},"documentation":{"id":36933,"nodeType":"StructuredDocumentation","src":"5226:415:52","text":"@notice Binary search to get the voting checkpoint for a token id at or prior to a given timestamp.\n @dev If a checkpoint does not exist prior to the timestamp, this will return 0.\n @param _numCheckpoints State of all user checkpoint counts\n @param _checkpoints State of all user checkpoints\n @param _tokenId .\n @param _timestamp .\n @return The index of the checkpoint."},"implemented":true,"kind":"function","modifiers":[],"name":"getPastVotesIndex","nameLocation":"5655:17:52","parameters":{"id":36949,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36937,"mutability":"mutable","name":"_numCheckpoints","nameLocation":"5717:15:52","nodeType":"VariableDeclaration","scope":37057,"src":"5682:50:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},"typeName":{"id":36936,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36934,"name":"uint256","nodeType":"ElementaryTypeName","src":"5690:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"5682:26:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36935,"name":"uint48","nodeType":"ElementaryTypeName","src":"5701:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}},"visibility":"internal"},{"constant":false,"id":36944,"mutability":"mutable","name":"_checkpoints","nameLocation":"5814:12:52","nodeType":"VariableDeclaration","scope":37057,"src":"5742:84:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint))"},"typeName":{"id":36943,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36938,"name":"uint256","nodeType":"ElementaryTypeName","src":"5750:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"5742:63:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint))"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36942,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36939,"name":"uint48","nodeType":"ElementaryTypeName","src":"5769:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"Mapping","src":"5761:43:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36941,"nodeType":"UserDefinedTypeName","pathNode":{"id":36940,"name":"IVotingEscrow.Checkpoint","nameLocations":["5779:13:52","5793:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"5779:24:52"},"referencedDeclaration":34628,"src":"5779:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}}}},"visibility":"internal"},{"constant":false,"id":36946,"mutability":"mutable","name":"_tokenId","nameLocation":"5844:8:52","nodeType":"VariableDeclaration","scope":37057,"src":"5836:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36945,"name":"uint256","nodeType":"ElementaryTypeName","src":"5836:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36948,"mutability":"mutable","name":"_timestamp","nameLocation":"5870:10:52","nodeType":"VariableDeclaration","scope":37057,"src":"5862:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36947,"name":"uint256","nodeType":"ElementaryTypeName","src":"5862:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5672:214:52"},"returnParameters":{"id":36952,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36951,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":37057,"src":"5910:6:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":36950,"name":"uint48","nodeType":"ElementaryTypeName","src":"5910:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"src":"5909:8:52"},"scope":37140,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":37139,"nodeType":"FunctionDefinition","src":"7398:944:52","nodes":[],"body":{"id":37138,"nodeType":"Block","src":"7692:650:52","nodes":[],"statements":[{"assignments":[37081],"declarations":[{"constant":false,"id":37081,"mutability":"mutable","name":"_checkIndex","nameLocation":"7709:11:52","nodeType":"VariableDeclaration","scope":37138,"src":"7702:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":37080,"name":"uint48","nodeType":"ElementaryTypeName","src":"7702:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"id":37088,"initialValue":{"arguments":[{"id":37083,"name":"_numCheckpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37062,"src":"7741:15:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"}},{"id":37084,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37069,"src":"7758:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},{"id":37085,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37073,"src":"7772:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":37086,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37075,"src":"7782:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":37082,"name":"getPastVotesIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37057,"src":"7723:17:52","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_mapping$_t_uint256_$_t_uint48_$_$_t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$_$_t_uint256_$_t_uint256_$returns$_t_uint48_$","typeString":"function (mapping(uint256 => uint48),mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)),uint256,uint256) view returns (uint48)"}},"id":37087,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7723:70:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"VariableDeclarationStatement","src":"7702:91:52"},{"assignments":[37093],"declarations":[{"constant":false,"id":37093,"mutability":"mutable","name":"lastCheckpoint","nameLocation":"7835:14:52","nodeType":"VariableDeclaration","scope":37138,"src":"7803:46:52","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_memory_ptr","typeString":"struct IVotingEscrow.Checkpoint"},"typeName":{"id":37092,"nodeType":"UserDefinedTypeName","pathNode":{"id":37091,"name":"IVotingEscrow.Checkpoint","nameLocations":["7803:13:52","7817:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"7803:24:52"},"referencedDeclaration":34628,"src":"7803:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}},"visibility":"internal"}],"id":37099,"initialValue":{"baseExpression":{"baseExpression":{"id":37094,"name":"_checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37069,"src":"7852:12:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref))"}},"id":37096,"indexExpression":{"id":37095,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37073,"src":"7865:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7852:22:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint storage ref)"}},"id":37098,"indexExpression":{"id":37097,"name":"_checkIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37081,"src":"7875:11:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7852:35:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage","typeString":"struct IVotingEscrow.Checkpoint storage ref"}},"nodeType":"VariableDeclarationStatement","src":"7803:84:52"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":37103,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":37100,"name":"lastCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37093,"src":"7970:14:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_memory_ptr","typeString":"struct IVotingEscrow.Checkpoint memory"}},"id":37101,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7985:13:52","memberName":"fromTimestamp","nodeType":"MemberAccess","referencedDeclaration":34621,"src":"7970:28:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":37102,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37075,"src":"8001:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7970:41:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":37106,"nodeType":"IfStatement","src":"7966:55:52","trueBody":{"expression":{"hexValue":"30","id":37104,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8020:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":37079,"id":37105,"nodeType":"Return","src":"8013:8:52"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":37110,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":37107,"name":"_account","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37071,"src":"8062:8:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":37108,"name":"lastCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37093,"src":"8074:14:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_memory_ptr","typeString":"struct IVotingEscrow.Checkpoint memory"}},"id":37109,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8089:5:52","memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":34623,"src":"8074:20:52","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8062:32:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":37113,"nodeType":"IfStatement","src":"8058:46:52","trueBody":{"expression":{"hexValue":"30","id":37111,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8103:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":37079,"id":37112,"nodeType":"Return","src":"8096:8:52"}},{"assignments":[37115],"declarations":[{"constant":false,"id":37115,"mutability":"mutable","name":"votes","nameLocation":"8122:5:52","nodeType":"VariableDeclaration","scope":37138,"src":"8114:13:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":37114,"name":"uint256","nodeType":"ElementaryTypeName","src":"8114:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":37118,"initialValue":{"expression":{"id":37116,"name":"lastCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37093,"src":"8130:14:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_memory_ptr","typeString":"struct IVotingEscrow.Checkpoint memory"}},"id":37117,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8145:16:52","memberName":"delegatedBalance","nodeType":"MemberAccess","referencedDeclaration":34625,"src":"8130:31:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8114:47:52"},{"expression":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":37122,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":37119,"name":"lastCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37093,"src":"8190:14:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_memory_ptr","typeString":"struct IVotingEscrow.Checkpoint memory"}},"id":37120,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8205:9:52","memberName":"delegatee","nodeType":"MemberAccess","referencedDeclaration":34627,"src":"8190:24:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":37121,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8218:1:52","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8190:29:52","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":37135,"name":"votes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37115,"src":"8330:5:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":37136,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8190:145:52","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":37134,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":37123,"name":"votes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37115,"src":"8238:5:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":37131,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37073,"src":"8290:8:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":37132,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37075,"src":"8300:10:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"arguments":[{"id":37127,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"8268:4:52","typeDescriptions":{"typeIdentifier":"t_contract$_DelegationLogicLibrary_$37140","typeString":"library DelegationLogicLibrary"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_DelegationLogicLibrary_$37140","typeString":"library DelegationLogicLibrary"}],"id":37126,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8260:7:52","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":37125,"name":"address","nodeType":"ElementaryTypeName","src":"8260:7:52","typeDescriptions":{}}},"id":37128,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8260:13:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":37124,"name":"IVotingEscrow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35447,"src":"8246:13:52","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVotingEscrow_$35447_$","typeString":"type(contract IVotingEscrow)"}},"id":37129,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8246:28:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVotingEscrow_$35447","typeString":"contract IVotingEscrow"}},"id":37130,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8275:14:52","memberName":"balanceOfNFTAt","nodeType":"MemberAccess","referencedDeclaration":35315,"src":"8246:43:52","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) view external returns (uint256)"}},"id":37133,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8246:65:52","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8238:73:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":37079,"id":37137,"nodeType":"Return","src":"8171:164:52"}]},"documentation":{"id":37058,"nodeType":"StructuredDocumentation","src":"6839:554:52","text":"@notice Retrieves historical voting balance for a token id at a given timestamp.\n @dev If a checkpoint does not exist prior to the timestamp, this will return 0.\n      The user must also own the token at the time in order to receive a voting balance.\n @param _numCheckpoints State of all user checkpoint counts\n @param _checkpoints State of all user checkpoints\n @param _account .\n @param _tokenId .\n @param _timestamp .\n @return Total voting balance including delegations at a given timestamp."},"functionSelector":"656a7ea6","implemented":true,"kind":"function","modifiers":[],"name":"getPastVotes","nameLocation":"7407:12:52","parameters":{"id":37076,"nodeType":"ParameterList","parameters":[{"constant":false,"id":37062,"mutability":"mutable","name":"_numCheckpoints","nameLocation":"7464:15:52","nodeType":"VariableDeclaration","scope":37139,"src":"7429:50:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},"typeName":{"id":37061,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":37059,"name":"uint256","nodeType":"ElementaryTypeName","src":"7437:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"7429:26:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint48_$","typeString":"mapping(uint256 => uint48)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":37060,"name":"uint48","nodeType":"ElementaryTypeName","src":"7448:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}},"visibility":"internal"},{"constant":false,"id":37069,"mutability":"mutable","name":"_checkpoints","nameLocation":"7561:12:52","nodeType":"VariableDeclaration","scope":37139,"src":"7489:84:52","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint))"},"typeName":{"id":37068,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":37063,"name":"uint256","nodeType":"ElementaryTypeName","src":"7497:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"7489:63:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$_$","typeString":"mapping(uint256 => mapping(uint48 => struct IVotingEscrow.Checkpoint))"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":37067,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":37064,"name":"uint48","nodeType":"ElementaryTypeName","src":"7516:6:52","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"Mapping","src":"7508:43:52","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint48_$_t_struct$_Checkpoint_$34628_storage_$","typeString":"mapping(uint48 => struct IVotingEscrow.Checkpoint)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":37066,"nodeType":"UserDefinedTypeName","pathNode":{"id":37065,"name":"IVotingEscrow.Checkpoint","nameLocations":["7526:13:52","7540:10:52"],"nodeType":"IdentifierPath","referencedDeclaration":34628,"src":"7526:24:52"},"referencedDeclaration":34628,"src":"7526:24:52","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$34628_storage_ptr","typeString":"struct IVotingEscrow.Checkpoint"}}}},"visibility":"internal"},{"constant":false,"id":37071,"mutability":"mutable","name":"_account","nameLocation":"7591:8:52","nodeType":"VariableDeclaration","scope":37139,"src":"7583:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":37070,"name":"address","nodeType":"ElementaryTypeName","src":"7583:7:52","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":37073,"mutability":"mutable","name":"_tokenId","nameLocation":"7617:8:52","nodeType":"VariableDeclaration","scope":37139,"src":"7609:16:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":37072,"name":"uint256","nodeType":"ElementaryTypeName","src":"7609:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":37075,"mutability":"mutable","name":"_timestamp","nameLocation":"7643:10:52","nodeType":"VariableDeclaration","scope":37139,"src":"7635:18:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":37074,"name":"uint256","nodeType":"ElementaryTypeName","src":"7635:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7419:240:52"},"returnParameters":{"id":37079,"nodeType":"ParameterList","parameters":[{"constant":false,"id":37078,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":37139,"src":"7683:7:52","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":37077,"name":"uint256","nodeType":"ElementaryTypeName","src":"7683:7:52","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7682:9:52"},"scope":37140,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"DelegationLogicLibrary","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[37140],"name":"DelegationLogicLibrary","nameLocation":"189:22:52","scope":37141,"usedErrors":[37147]}],"license":"BUSL-1.1"},"id":52}