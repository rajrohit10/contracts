{"abi":[{"type":"error","name":"SafeCastOverflow","inputs":[]},{"type":"error","name":"SafeCastUnderflow","inputs":[]}],"bytecode":{"object":"0x6106da61003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100405760003560e01c80637259b019146100455780637b29b3d11461006a575b600080fd5b610058610053366004610547565b61007d565b60405190815260200160405180910390f35b610058610078366004610547565b6101e4565b60008061008b8486856102f0565b90508060000361009f5760009150506101dc565b600081815260208681526040808320815160a0810183528154600f81810b808452600160801b909204900b9482018590526001830154938201849052600283015460608301526003909201546080820152939092919062093a80610103818461058f565b61010d91906105b1565b905060005b60ff8110156101a65761012862093a80836105ce565b915060008983111561013c57899250610150565b50600082815260208d90526040902054600f0b5b61016261015d85856105e1565b6103cd565b61016c90866105f4565b610176908761061b565b955089830361018557506101a6565b61018f8186610648565b9450829350508061019f90610675565b9050610112565b50600084600f0b12156101b857600093505b84608001516101c985600f0b6103fb565b6101d391906105ce565b96505050505050505b949350505050565b6000806101f386868686610427565b9050806000036102075760009150506101dc565b600084815260208690526040812082633b9aca0081106102295761022961068e565b6040805160a081018252600492909202929092018054600f81810b8452600160801b909104900b602083015260018101549282019290925260028201546060820152600390910154608082018190529091501561028d576080015191506101dc9050565b6102a081604001518561015d91906105e1565b81602001516102af91906105f4565b815182906102be90839061061b565b600f90810b90915282516000910b121590506102d957600081525b80516102e790600f0b6103fb565b925050506101dc565b600083600003610302575060006103c6565b60008481526020849052604090206001015482106103215750826103c6565b600160008181526020859052604090200154821015610342575060006103c6565b6000845b818111156103c2576000600261035c84846105e1565b610366919061058f565b61037090836105e1565b6000818152602088905260409020600181015491925090869003610399575092506103c6915050565b85816001015410156103ad578193506103bb565b6103b86001836105e1565b92505b5050610346565b5090505b9392505050565b600060016001607f1b038211156103f7576040516393dafdf160e01b815260040160405180910390fd5b5090565b60008082600f0b12156104205760405162406f5d60e21b815260040160405180910390fd5b50600f0b90565b6000828152602085905260408120548082036104475760009150506101dc565b6000848152602086905260409020839082633b9aca00811061046b5761046b61068e565b60040201600101541161047f5790506101dc565b6000848152602086905260409020600501548310156104a25760009150506101dc565b6000815b8181111561053c57600060026104bc84846105e1565b6104c6919061058f565b6104d090836105e1565b600088815260208a9052604081209192509082633b9aca0081106104f6576104f661068e565b60040201905086816001015403610513575093506101dc92505050565b868160010154101561052757819350610535565b6105326001836105e1565b92505b50506104a6565b509695505050505050565b6000806000806080858703121561055d57600080fd5b5050823594602084013594506040840135936060013592509050565b634e487b7160e01b600052601160045260246000fd5b6000826105ac57634e487b7160e01b600052601260045260246000fd5b500490565b80820281158282048414176105c8576105c8610579565b92915050565b808201808211156105c8576105c8610579565b818103818111156105c8576105c8610579565b600082600f0b82600f0b0280600f0b915080821461061457610614610579565b5092915050565b600f82810b9082900b0360016001607f1b0319811260016001607f1b03821317156105c8576105c8610579565b600f81810b9083900b0160016001607f1b03811360016001607f1b0319821217156105c8576105c8610579565b60006001820161068757610687610579565b5060010190565b634e487b7160e01b600052603260045260246000fdfea26469706673582212201b4249444cddde698f0a057f63d7bfe64f4e8d5ed10951e9541963e44fd154e664736f6c63430008130033","sourceMap":"181:5923:50:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;181:5923:50;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600436106100405760003560e01c80637259b019146100455780637b29b3d11461006a575b600080fd5b610058610053366004610547565b61007d565b60405190815260200160405180910390f35b610058610078366004610547565b6101e4565b60008061008b8486856102f0565b90508060000361009f5760009150506101dc565b600081815260208681526040808320815160a0810183528154600f81810b808452600160801b909204900b9482018590526001830154938201849052600283015460608301526003909201546080820152939092919062093a80610103818461058f565b61010d91906105b1565b905060005b60ff8110156101a65761012862093a80836105ce565b915060008983111561013c57899250610150565b50600082815260208d90526040902054600f0b5b61016261015d85856105e1565b6103cd565b61016c90866105f4565b610176908761061b565b955089830361018557506101a6565b61018f8186610648565b9450829350508061019f90610675565b9050610112565b50600084600f0b12156101b857600093505b84608001516101c985600f0b6103fb565b6101d391906105ce565b96505050505050505b949350505050565b6000806101f386868686610427565b9050806000036102075760009150506101dc565b600084815260208690526040812082633b9aca0081106102295761022961068e565b6040805160a081018252600492909202929092018054600f81810b8452600160801b909104900b602083015260018101549282019290925260028201546060820152600390910154608082018190529091501561028d576080015191506101dc9050565b6102a081604001518561015d91906105e1565b81602001516102af91906105f4565b815182906102be90839061061b565b600f90810b90915282516000910b121590506102d957600081525b80516102e790600f0b6103fb565b925050506101dc565b600083600003610302575060006103c6565b60008481526020849052604090206001015482106103215750826103c6565b600160008181526020859052604090200154821015610342575060006103c6565b6000845b818111156103c2576000600261035c84846105e1565b610366919061058f565b61037090836105e1565b6000818152602088905260409020600181015491925090869003610399575092506103c6915050565b85816001015410156103ad578193506103bb565b6103b86001836105e1565b92505b5050610346565b5090505b9392505050565b600060016001607f1b038211156103f7576040516393dafdf160e01b815260040160405180910390fd5b5090565b60008082600f0b12156104205760405162406f5d60e21b815260040160405180910390fd5b50600f0b90565b6000828152602085905260408120548082036104475760009150506101dc565b6000848152602086905260409020839082633b9aca00811061046b5761046b61068e565b60040201600101541161047f5790506101dc565b6000848152602086905260409020600501548310156104a25760009150506101dc565b6000815b8181111561053c57600060026104bc84846105e1565b6104c6919061058f565b6104d090836105e1565b600088815260208a9052604081209192509082633b9aca0081106104f6576104f661068e565b60040201905086816001015403610513575093506101dc92505050565b868160010154101561052757819350610535565b6105326001836105e1565b92505b50506104a6565b509695505050505050565b6000806000806080858703121561055d57600080fd5b5050823594602084013594506040840135936060013592509050565b634e487b7160e01b600052601160045260246000fd5b6000826105ac57634e487b7160e01b600052601260045260246000fd5b500490565b80820281158282048414176105c8576105c8610579565b92915050565b808201808211156105c8576105c8610579565b818103818111156105c8576105c8610579565b600082600f0b82600f0b0280600f0b915080821461061457610614610579565b5092915050565b600f82810b9082900b0360016001607f1b0319811260016001607f1b03821317156105c8576105c8610579565b600f81810b9083900b0160016001607f1b03811360016001607f1b0319821217156105c8576105c8610579565b60006001820161068757610687610579565b5060010190565b634e487b7160e01b600052603260045260246000fdfea26469706673582212201b4249444cddde698f0a057f63d7bfe64f4e8d5ed10951e9541963e44fd154e664736f6c63430008130033","sourceMap":"181:5923:50:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4960:1142;;;;;;:::i;:::-;;:::i;:::-;;;634:25:169;;;622:2;607:18;4960:1142:50;;;;;;;3755:847;;;;;;:::i;:::-;;:::i;4960:1142::-;5186:7;5205:14;5222:50;5246:6;5254:13;5269:2;5222:23;:50::i;:::-;5205:67;;5323:6;5333:1;5323:11;5319:25;;5343:1;5336:8;;;;;5319:25;5354:39;5396:21;;;;;;;;;;;5354:63;;;;;;;;;;;;;;;;-1:-1:-1;;;5354:63:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;326:7;5546:9;326:7;5354:63;5546:9;:::i;:::-;5545:18;;;;:::i;:::-;5531:32;;5578:9;5573:403;5597:3;5593:1;:7;5573:403;;;5621:11;326:7;5621:11;;:::i;:::-;;;5646:13;5687:2;5681:3;:8;5677:121;;;5715:2;5709:8;;5677:121;;;-1:-1:-1;5765:18:50;;;;;;;;;;;;;;5677:121;5827:21;5828:8;5834:2;5828:3;:8;:::i;:::-;5827:19;:21::i;:::-;5819:29;;:5;:29;:::i;:::-;5811:37;;;;:::i;:::-;;;5873:2;5866:3;:9;5862:53;;5895:5;;;5862:53;5928:15;5937:6;5928:15;;:::i;:::-;;;5962:3;5957:8;;5607:369;5602:3;;;;:::i;:::-;;;5573:403;;;;5997:1;5990:4;:8;;;5986:47;;;6021:1;6014:8;;5986:47;6068:6;:27;;;6049:16;:4;:14;;;:16::i;:::-;:46;;;;:::i;:::-;6042:53;;;;;;;;4960:1142;;;;;;;:::o;3755:847::-;4006:7;4025:14;4042:71;4064:15;4081:17;4100:8;4110:2;4042:21;:71::i;:::-;4025:88;;4164:6;4174:1;4164:11;4160:25;;4184:1;4177:8;;;;;4160:25;4195:40;4238:27;;;;;;;;;;4266:6;4238:35;;;;;;;:::i;:::-;4195:78;;;;;;;;4238:35;;;;;;;;;4195:78;;;;;;;;-1:-1:-1;;;4195:78:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;4287:24:50;4283:313;;4334:19;;;;-1:-1:-1;4327:26:50;;-1:-1:-1;4327:26:50;4283:313;4420:30;4426:9;:12;;;4421:2;:17;;;;:::i;4420:30::-;4402:9;:15;;;:48;;;;:::i;:::-;4384:66;;:9;;:66;;;;;:::i;:::-;;;;;;;;4468:14;;4485:1;4468:18;;;4464:75;;-1:-1:-1;4464:75:50;;4523:1;4506:18;;4464:75;4559:14;;:26;;:24;;;:26::i;:::-;4552:33;;;;;;2273:982;2464:7;2487:6;2497:1;2487:11;2483:25;;-1:-1:-1;2507:1:50;2500:8;;2483:25;2565:21;;;;;;;;;;;:24;;;:38;-1:-1:-1;2561:59:50;;-1:-1:-1;2613:6:50;2605:15;;2561:59;2692:1;2678:16;;;;;;;;;;;:19;;:32;-1:-1:-1;2674:46:50;;;-1:-1:-1;2719:1:50;2712:8;;2674:46;2731:13;2774:6;2790:437;2805:5;2797;:13;2790:437;;;2826:14;2869:1;2852:13;2860:5;2852;:13;:::i;:::-;2851:19;;;;:::i;:::-;2843:27;;:5;:27;:::i;:::-;2911:45;2959:21;;;;;;;;;;2998:14;;;;2826:44;;-1:-1:-1;2959:21:50;2998:28;;;2994:223;;-1:-1:-1;3053:6:50;-1:-1:-1;3046:13:50;;-1:-1:-1;;3046:13:50;2994:223;3101:10;3084:11;:14;;;:27;3080:137;;;3139:6;3131:14;;3080:137;;;3192:10;3201:1;3192:6;:10;:::i;:::-;3184:18;;3080:137;2812:415;;2790:437;;;-1:-1:-1;3243:5:50;-1:-1:-1;2273:982:50;;;;;;:::o;343:184:53:-;399:6;-1:-1:-1;;;;;421:33:53;;417:64;;;463:18;;-1:-1:-1;;;463:18:53;;;;;;;;;;;417:64;-1:-1:-1;513:5:53;343:184::o;579:162::-;635:7;666:1;658:5;:9;;;654:41;;;676:19;;-1:-1:-1;;;676:19:53;;;;;;;;;;;654:41;-1:-1:-1;720:13:53;;;579:162::o;748:1163:50:-;1014:7;1054:25;;;;;;;;;;;1093:15;;;1089:29;;1117:1;1110:8;;;;;1089:29;1175:27;;;;;;;;;;;1221:10;;1203;1175:39;;;;;;;:::i;:::-;;;;:42;;;:56;1171:81;;1241:10;-1:-1:-1;1233:19:50;;1171:81;1310:27;;;;;;;;;;;:33;;;:46;-1:-1:-1;1306:60:50;;;1365:1;1358:8;;;;;1306:60;1377:13;1420:10;1440:443;1455:5;1447;:13;1440:443;;;1476:14;1519:1;1502:13;1510:5;1502;:13;:::i;:::-;1501:19;;;;:::i;:::-;1493:27;;:5;:27;:::i;:::-;1561:41;1605:27;;;;;;;;;;1476:44;;-1:-1:-1;1561:41:50;1476:44;1605:35;;;;;;;:::i;:::-;;;;1561:79;;1674:10;1658:9;:12;;;:26;1654:219;;-1:-1:-1;1711:6:50;-1:-1:-1;1704:13:50;;-1:-1:-1;;;1704:13:50;1654:219;1757:10;1742:9;:12;;;:25;1738:135;;;1795:6;1787:14;;1738:135;;;1848:10;1857:1;1848:6;:10;:::i;:::-;1840:18;;1738:135;1462:421;;1440:443;;;-1:-1:-1;1899:5:50;748:1163;-1:-1:-1;;;;;;748:1163:50:o;14:461:169:-;176:6;184;192;200;253:3;241:9;232:7;228:23;224:33;221:53;;;270:1;267;260:12;221:53;-1:-1:-1;;293:23:169;;;363:2;348:18;;335:32;;-1:-1:-1;414:2:169;399:18;;386:32;;465:2;450:18;437:32;;-1:-1:-1;14:461:169;-1:-1:-1;14:461:169:o;1164:127::-;1225:10;1220:3;1216:20;1213:1;1206:31;1256:4;1253:1;1246:15;1280:4;1277:1;1270:15;1296:217;1336:1;1362;1352:132;;1406:10;1401:3;1397:20;1394:1;1387:31;1441:4;1438:1;1431:15;1469:4;1466:1;1459:15;1352:132;-1:-1:-1;1498:9:169;;1296:217::o;1518:168::-;1591:9;;;1622;;1639:15;;;1633:22;;1619:37;1609:71;;1660:18;;:::i;:::-;1518:168;;;;:::o;1691:125::-;1756:9;;;1777:10;;;1774:36;;;1790:18;;:::i;1821:128::-;1888:9;;;1909:11;;;1906:37;;;1923:18;;:::i;1954:241::-;1993:7;2072:1;2068:2;2057:17;2053:1;2049:2;2038:17;2034:41;2110:11;2106:2;2095:27;2084:38;;2153:11;2144:7;2141:24;2131:58;;2169:18;;:::i;:::-;2131:58;1954:241;;;;:::o;2200:249::-;2300:2;2289:17;;;2270;;;;2266:41;-1:-1:-1;;;;;;2322:50:169;;-1:-1:-1;;;;;2374:45:169;;2319:101;2316:127;;;2423:18;;:::i;2454:245::-;2552:2;2522:17;;;2541;;;;2518:41;-1:-1:-1;;;;;2574:44:169;;-1:-1:-1;;;;;;2620:49:169;;2571:99;2568:125;;;2673:18;;:::i;2704:135::-;2743:3;2764:17;;;2761:43;;2784:18;;:::i;:::-;-1:-1:-1;2831:1:169;2820:13;;2704:135::o;2844:127::-;2905:10;2900:3;2896:20;2893:1;2886:31;2936:4;2933:1;2926:15;2960:4;2957:1;2950:15","linkReferences":{}},"methodIdentifiers":{"balanceOfNFTAt(mapping(uint256 => uint256) storage,mapping(uint256 => IVotingEscrow.UserPoint[1000000000]) storage,uint256,uint256)":"7b29b3d1","supplyAt(mapping(uint256 => int128) storage,mapping(uint256 => IVotingEscrow.GlobalPoint) storage,uint256,uint256)":"7259b019"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"SafeCastOverflow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SafeCastUnderflow\",\"type\":\"error\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"balanceOfNFTAt(mapping(uint256 => uint256) storage,mapping(uint256 => IVotingEscrow.UserPoint[1000000000]) storage,uint256,uint256)\":{\"details\":\"Adheres to the ERC20 `balanceOf` interface for Aragon compatibility      Fetches last user point prior to a certain timestamp, then walks forward to timestamp.\",\"params\":{\"_t\":\"Epoch time to return voting power at\",\"_tokenId\":\"NFT for lock\",\"_userPointEpoch\":\"State of all user point epochs\",\"_userPointHistory\":\"State of all user point history\"},\"returns\":{\"_0\":\"User voting power\"}},\"supplyAt(mapping(uint256 => int128) storage,mapping(uint256 => IVotingEscrow.GlobalPoint) storage,uint256,uint256)\":{\"params\":{\"_epoch\":\"The epoch to start search from\",\"_pointHistory\":\"State of all global point history\",\"_slopeChanges\":\"State of all slopeChanges\",\"_t\":\"Time to calculate the total voting power at\"},\"returns\":{\"_0\":\"Total voting power at that time\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"balanceOfNFTAt(mapping(uint256 => uint256) storage,mapping(uint256 => IVotingEscrow.UserPoint[1000000000]) storage,uint256,uint256)\":{\"notice\":\"Get the current voting power for `_tokenId`\"},\"supplyAt(mapping(uint256 => int128) storage,mapping(uint256 => IVotingEscrow.GlobalPoint) storage,uint256,uint256)\":{\"notice\":\"Calculate total voting power at some point in the past\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/libraries/BalanceLogicLibrary.sol\":\"BalanceLogicLibrary\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@opengsn/=lib/gsn/packages/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@uniswap/v3-core/=lib/v3-core/\",\":ds-test/=lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":forge-std/=lib/forge-std/src/\",\":gsn/=lib/gsn/\",\":hardhat-deploy/=node_modules/hardhat-deploy/\",\":hardhat/=node_modules/hardhat/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":utils/=test/utils/\"]},\"sources\":{\"contracts/governance/IVotes.sol\":{\"keccak256\":\"0xe8e442e8dbcb52d105c44572f513378026b076c8c851905e0e05d97357f1cbcc\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://176a23ababdb0f0c767f4f6e39771f8cf6409ec6726d98e52d3d793d5d6ce488\",\"dweb:/ipfs/QmSe2NJ4A7Y77G16sBb6bUFbLf3FV4DYsmgtteEJWMLMVF\"]},\"contracts/interfaces/IVotingEscrow.sol\":{\"keccak256\":\"0xaed80a326e2d0634af7525a764c796e87357c709563e65de722752b037ae2176\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7334245791e9c4cc45f180b117daf644c6e86871998d69bed5630d907ec84764\",\"dweb:/ipfs/QmasGnpeTsJrjVR2k55HwRYV8kQCGMybzUd3HUsAU1pWTV\"]},\"contracts/libraries/BalanceLogicLibrary.sol\":{\"keccak256\":\"0xbc88e5afd22ea7113ce22b7eecd0075bbfabf9300ea5d46c048e0c26180c8b0a\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://d6539b366141c6ee7a8f2ffaf8b34b4c9a5cc33fa66a77644c3886c8abb4b63e\",\"dweb:/ipfs/QmUb7EUAUyUVWFq4Ub299QxMqe1JiqukPkLxjg1QtHBwBC\"]},\"contracts/libraries/SafeCastLibrary.sol\":{\"keccak256\":\"0x7801f71a9137973e0116f78d298f74ba924bef2c981ca552531c59218441e61b\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://cae5159d2670558a66f60c2269657c6fd98acf6779f1bd4182ac1d362b923951\",\"dweb:/ipfs/QmZAAe8PBDfC4CTDrfoLzfJ5Es3GuDGQ6FxBcG6wYvCaLC\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol\":{\"keccak256\":\"0xd04b0f06e0666f29cf7cccc82894de541e19bb30a765b107b1e40bb7fe5f7d7a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7b652499d098e88d8d878374616bb58434301061cae2253298b3f374044e0ddb\",\"dweb:/ipfs/QmbhAzctqo5jrSKU6idHdVyqfmzCcDbNUPvmx4GiXxfA6q\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC4906.sol\":{\"keccak256\":\"0x57a2cf3544afc13eba3ad57a4f71d229da29f13ad9c365f31eda05e26a5f810c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://06c7ba983e1c10b02070776f07495cd28906570923290f193fad3f127d8ecb64\",\"dweb:/ipfs/Qmdb7sqnyafGzbdnzx7GVutiHyMQH9WpKu581sjpCXkwJb\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC6372.sol\":{\"keccak256\":\"0x9215f1ff3c15ee9f7c2157fe5762fd01a0c511183a6273b86b320ae49001f1a0\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://dcd0412ac5996410565d49a6dc18361f1d82670761793cd0646589aaf2dcefde\",\"dweb:/ipfs/QmVfz2Xha8uRPcNmgNXMU9gwVzfk64RxGowUzwtduoonsp\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC721.sol\":{\"keccak256\":\"0xaf297d12d8d4a57fe01a70f0ef38908f208e3faedc577056d0b728fa2f3ccf0c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fbfaf37123958822a2720a4ea29651be00edab787540b770f73d3e025d286ff8\",\"dweb:/ipfs/QmbzgWeTm8hJVUqWrNAwFjshqbYVyeGpQA8D1huzxQdmw6\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0x41bbb2c41036ca64b2f6c9e973e8cfaa113ebc42af86702cd0d267f915a7e886\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6bf6699c55e82c7af6ae90b61ea9643ca0c905097da9a31269319f1b5a2a696a\",\"dweb:/ipfs/QmRJZa2UmWcRo6W8JnuomwzfjVtAS21QC8HKggxBhoPsU4\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/extensions/IERC721Metadata.sol\":{\"keccak256\":\"0x75b829ff2f26c14355d1cba20e16fe7b29ca58eb5fef665ede48bc0f9c6c74b9\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a0a107160525724f9e1bbbab031defc2f298296dd9e331f16a6f7130cec32146\",\"dweb:/ipfs/QmemujxSd7gX8A9M8UwmNbz4Ms3U9FG9QfudUgxwvTmPWf\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f\",\"dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.19+commit.7dd6d404"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"SafeCastOverflow"},{"inputs":[],"type":"error","name":"SafeCastUnderflow"}],"devdoc":{"kind":"dev","methods":{"balanceOfNFTAt(mapping(uint256 => uint256) storage,mapping(uint256 => IVotingEscrow.UserPoint[1000000000]) storage,uint256,uint256)":{"details":"Adheres to the ERC20 `balanceOf` interface for Aragon compatibility      Fetches last user point prior to a certain timestamp, then walks forward to timestamp.","params":{"_t":"Epoch time to return voting power at","_tokenId":"NFT for lock","_userPointEpoch":"State of all user point epochs","_userPointHistory":"State of all user point history"},"returns":{"_0":"User voting power"}},"supplyAt(mapping(uint256 => int128) storage,mapping(uint256 => IVotingEscrow.GlobalPoint) storage,uint256,uint256)":{"params":{"_epoch":"The epoch to start search from","_pointHistory":"State of all global point history","_slopeChanges":"State of all slopeChanges","_t":"Time to calculate the total voting power at"},"returns":{"_0":"Total voting power at that time"}}},"version":1},"userdoc":{"kind":"user","methods":{"balanceOfNFTAt(mapping(uint256 => uint256) storage,mapping(uint256 => IVotingEscrow.UserPoint[1000000000]) storage,uint256,uint256)":{"notice":"Get the current voting power for `_tokenId`"},"supplyAt(mapping(uint256 => int128) storage,mapping(uint256 => IVotingEscrow.GlobalPoint) storage,uint256,uint256)":{"notice":"Calculate total voting power at some point in the past"}},"version":1}},"settings":{"remappings":["@opengsn/=lib/gsn/packages/","@openzeppelin/=lib/openzeppelin-contracts/","@uniswap/v3-core/=lib/v3-core/","ds-test/=lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","eth-gas-reporter/=node_modules/eth-gas-reporter/","forge-std/=lib/forge-std/src/","gsn/=lib/gsn/","hardhat-deploy/=node_modules/hardhat-deploy/","hardhat/=node_modules/hardhat/","openzeppelin-contracts/=lib/openzeppelin-contracts/","utils/=test/utils/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/libraries/BalanceLogicLibrary.sol":"BalanceLogicLibrary"},"libraries":{}},"sources":{"contracts/governance/IVotes.sol":{"keccak256":"0xe8e442e8dbcb52d105c44572f513378026b076c8c851905e0e05d97357f1cbcc","urls":["bzz-raw://176a23ababdb0f0c767f4f6e39771f8cf6409ec6726d98e52d3d793d5d6ce488","dweb:/ipfs/QmSe2NJ4A7Y77G16sBb6bUFbLf3FV4DYsmgtteEJWMLMVF"],"license":"BUSL-1.1"},"contracts/interfaces/IVotingEscrow.sol":{"keccak256":"0xaed80a326e2d0634af7525a764c796e87357c709563e65de722752b037ae2176","urls":["bzz-raw://7334245791e9c4cc45f180b117daf644c6e86871998d69bed5630d907ec84764","dweb:/ipfs/QmasGnpeTsJrjVR2k55HwRYV8kQCGMybzUd3HUsAU1pWTV"],"license":"MIT"},"contracts/libraries/BalanceLogicLibrary.sol":{"keccak256":"0xbc88e5afd22ea7113ce22b7eecd0075bbfabf9300ea5d46c048e0c26180c8b0a","urls":["bzz-raw://d6539b366141c6ee7a8f2ffaf8b34b4c9a5cc33fa66a77644c3886c8abb4b63e","dweb:/ipfs/QmUb7EUAUyUVWFq4Ub299QxMqe1JiqukPkLxjg1QtHBwBC"],"license":"BUSL-1.1"},"contracts/libraries/SafeCastLibrary.sol":{"keccak256":"0x7801f71a9137973e0116f78d298f74ba924bef2c981ca552531c59218441e61b","urls":["bzz-raw://cae5159d2670558a66f60c2269657c6fd98acf6779f1bd4182ac1d362b923951","dweb:/ipfs/QmZAAe8PBDfC4CTDrfoLzfJ5Es3GuDGQ6FxBcG6wYvCaLC"],"license":"BUSL-1.1"},"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol":{"keccak256":"0xd04b0f06e0666f29cf7cccc82894de541e19bb30a765b107b1e40bb7fe5f7d7a","urls":["bzz-raw://7b652499d098e88d8d878374616bb58434301061cae2253298b3f374044e0ddb","dweb:/ipfs/QmbhAzctqo5jrSKU6idHdVyqfmzCcDbNUPvmx4GiXxfA6q"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC4906.sol":{"keccak256":"0x57a2cf3544afc13eba3ad57a4f71d229da29f13ad9c365f31eda05e26a5f810c","urls":["bzz-raw://06c7ba983e1c10b02070776f07495cd28906570923290f193fad3f127d8ecb64","dweb:/ipfs/Qmdb7sqnyafGzbdnzx7GVutiHyMQH9WpKu581sjpCXkwJb"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC6372.sol":{"keccak256":"0x9215f1ff3c15ee9f7c2157fe5762fd01a0c511183a6273b86b320ae49001f1a0","urls":["bzz-raw://dcd0412ac5996410565d49a6dc18361f1d82670761793cd0646589aaf2dcefde","dweb:/ipfs/QmVfz2Xha8uRPcNmgNXMU9gwVzfk64RxGowUzwtduoonsp"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC721.sol":{"keccak256":"0xaf297d12d8d4a57fe01a70f0ef38908f208e3faedc577056d0b728fa2f3ccf0c","urls":["bzz-raw://fbfaf37123958822a2720a4ea29651be00edab787540b770f73d3e025d286ff8","dweb:/ipfs/QmbzgWeTm8hJVUqWrNAwFjshqbYVyeGpQA8D1huzxQdmw6"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0x41bbb2c41036ca64b2f6c9e973e8cfaa113ebc42af86702cd0d267f915a7e886","urls":["bzz-raw://6bf6699c55e82c7af6ae90b61ea9643ca0c905097da9a31269319f1b5a2a696a","dweb:/ipfs/QmRJZa2UmWcRo6W8JnuomwzfjVtAS21QC8HKggxBhoPsU4"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/extensions/IERC721Metadata.sol":{"keccak256":"0x75b829ff2f26c14355d1cba20e16fe7b29ca58eb5fef665ede48bc0f9c6c74b9","urls":["bzz-raw://a0a107160525724f9e1bbbab031defc2f298296dd9e331f16a6f7130cec32146","dweb:/ipfs/QmemujxSd7gX8A9M8UwmNbz4Ms3U9FG9QfudUgxwvTmPWf"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1","urls":["bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f","dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"contracts/libraries/BalanceLogicLibrary.sol","id":36265,"exportedSymbols":{"BalanceLogicLibrary":[36264],"IVotingEscrow":[35447],"SafeCastLibrary":[37203]},"nodeType":"SourceUnit","src":"37:6068:50","nodes":[{"id":35796,"nodeType":"PragmaDirective","src":"37:23:50","nodes":[],"literals":["solidity","0.8",".19"]},{"id":35798,"nodeType":"ImportDirective","src":"62:62:50","nodes":[],"absolutePath":"contracts/interfaces/IVotingEscrow.sol","file":"../interfaces/IVotingEscrow.sol","nameLocation":"-1:-1:-1","scope":36265,"sourceUnit":35448,"symbolAliases":[{"foreign":{"id":35797,"name":"IVotingEscrow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35447,"src":"70:13:50","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":35800,"nodeType":"ImportDirective","src":"125:54:50","nodes":[],"absolutePath":"contracts/libraries/SafeCastLibrary.sol","file":"./SafeCastLibrary.sol","nameLocation":"-1:-1:-1","scope":36265,"sourceUnit":37204,"symbolAliases":[{"foreign":{"id":35799,"name":"SafeCastLibrary","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37203,"src":"133:15:50","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":36264,"nodeType":"ContractDefinition","src":"181:5923:50","nodes":[{"id":35803,"nodeType":"UsingForDirective","src":"215:34:50","nodes":[],"global":false,"libraryName":{"id":35801,"name":"SafeCastLibrary","nameLocations":["221:15:50"],"nodeType":"IdentifierPath","referencedDeclaration":37203,"src":"221:15:50"},"typeName":{"id":35802,"name":"uint256","nodeType":"ElementaryTypeName","src":"241:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":35806,"nodeType":"UsingForDirective","src":"254:33:50","nodes":[],"global":false,"libraryName":{"id":35804,"name":"SafeCastLibrary","nameLocations":["260:15:50"],"nodeType":"IdentifierPath","referencedDeclaration":37203,"src":"260:15:50"},"typeName":{"id":35805,"name":"int128","nodeType":"ElementaryTypeName","src":"280:6:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}},{"id":35809,"nodeType":"VariableDeclaration","src":"293:40:50","nodes":[],"constant":true,"mutability":"constant","name":"WEEK","nameLocation":"319:4:50","scope":36264,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35807,"name":"uint256","nodeType":"ElementaryTypeName","src":"293:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31","id":35808,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"326:7:50","subdenomination":"weeks","typeDescriptions":{"typeIdentifier":"t_rational_604800_by_1","typeString":"int_const 604800"},"value":"1"},"visibility":"internal"},{"id":35928,"nodeType":"FunctionDefinition","src":"748:1163:50","nodes":[],"body":{"id":35927,"nodeType":"Block","src":"1023:888:50","nodes":[],"statements":[{"assignments":[35831],"declarations":[{"constant":false,"id":35831,"mutability":"mutable","name":"_userEpoch","nameLocation":"1041:10:50","nodeType":"VariableDeclaration","scope":35927,"src":"1033:18:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35830,"name":"uint256","nodeType":"ElementaryTypeName","src":"1033:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35835,"initialValue":{"baseExpression":{"id":35832,"name":"_userPointEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35814,"src":"1054:15:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":35834,"indexExpression":{"id":35833,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35823,"src":"1070:8:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1054:25:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1033:46:50"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35838,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35836,"name":"_userEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35831,"src":"1093:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":35837,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1107:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1093:15:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35841,"nodeType":"IfStatement","src":"1089:29:50","trueBody":{"expression":{"hexValue":"30","id":35839,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1117:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":35829,"id":35840,"nodeType":"Return","src":"1110:8:50"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"baseExpression":{"id":35842,"name":"_userPointHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35821,"src":"1175:17:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref)"}},"id":35844,"indexExpression":{"id":35843,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35823,"src":"1193:8:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1175:27:50","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage","typeString":"struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref"}},"id":35846,"indexExpression":{"id":35845,"name":"_userEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35831,"src":"1203:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1175:39:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage","typeString":"struct IVotingEscrow.UserPoint storage ref"}},"id":35847,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1215:2:50","memberName":"ts","nodeType":"MemberAccess","referencedDeclaration":34603,"src":"1175:42:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":35848,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35825,"src":"1221:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1175:56:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35853,"nodeType":"IfStatement","src":"1171:81:50","trueBody":{"expression":{"components":[{"id":35850,"name":"_userEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35831,"src":"1241:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":35851,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1240:12:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35829,"id":35852,"nodeType":"Return","src":"1233:19:50"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"baseExpression":{"id":35854,"name":"_userPointHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35821,"src":"1310:17:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref)"}},"id":35856,"indexExpression":{"id":35855,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35823,"src":"1328:8:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1310:27:50","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage","typeString":"struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref"}},"id":35858,"indexExpression":{"hexValue":"31","id":35857,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1338:1:50","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1310:30:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage","typeString":"struct IVotingEscrow.UserPoint storage ref"}},"id":35859,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1341:2:50","memberName":"ts","nodeType":"MemberAccess","referencedDeclaration":34603,"src":"1310:33:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":35860,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35825,"src":"1346:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1310:46:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35864,"nodeType":"IfStatement","src":"1306:60:50","trueBody":{"expression":{"hexValue":"30","id":35862,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1365:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":35829,"id":35863,"nodeType":"Return","src":"1358:8:50"}},{"assignments":[35866],"declarations":[{"constant":false,"id":35866,"mutability":"mutable","name":"lower","nameLocation":"1385:5:50","nodeType":"VariableDeclaration","scope":35927,"src":"1377:13:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35865,"name":"uint256","nodeType":"ElementaryTypeName","src":"1377:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35868,"initialValue":{"hexValue":"30","id":35867,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1393:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1377:17:50"},{"assignments":[35870],"declarations":[{"constant":false,"id":35870,"mutability":"mutable","name":"upper","nameLocation":"1412:5:50","nodeType":"VariableDeclaration","scope":35927,"src":"1404:13:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35869,"name":"uint256","nodeType":"ElementaryTypeName","src":"1404:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35872,"initialValue":{"id":35871,"name":"_userEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35831,"src":"1420:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1404:26:50"},{"body":{"id":35923,"nodeType":"Block","src":"1462:421:50","statements":[{"assignments":[35877],"declarations":[{"constant":false,"id":35877,"mutability":"mutable","name":"center","nameLocation":"1484:6:50","nodeType":"VariableDeclaration","scope":35923,"src":"1476:14:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35876,"name":"uint256","nodeType":"ElementaryTypeName","src":"1476:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35886,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35885,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35878,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35870,"src":"1493:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35881,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35879,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35870,"src":"1502:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":35880,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35866,"src":"1510:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1502:13:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":35882,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1501:15:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":35883,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1519:1:50","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"1501:19:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1493:27:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1476:44:50"},{"assignments":[35891],"declarations":[{"constant":false,"id":35891,"mutability":"mutable","name":"userPoint","nameLocation":"1593:9:50","nodeType":"VariableDeclaration","scope":35923,"src":"1561:41:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage_ptr","typeString":"struct IVotingEscrow.UserPoint"},"typeName":{"id":35890,"nodeType":"UserDefinedTypeName","pathNode":{"id":35889,"name":"IVotingEscrow.UserPoint","nameLocations":["1561:13:50","1575:9:50"],"nodeType":"IdentifierPath","referencedDeclaration":34608,"src":"1561:23:50"},"referencedDeclaration":34608,"src":"1561:23:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage_ptr","typeString":"struct IVotingEscrow.UserPoint"}},"visibility":"internal"}],"id":35897,"initialValue":{"baseExpression":{"baseExpression":{"id":35892,"name":"_userPointHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35821,"src":"1605:17:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref)"}},"id":35894,"indexExpression":{"id":35893,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35823,"src":"1623:8:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1605:27:50","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage","typeString":"struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref"}},"id":35896,"indexExpression":{"id":35895,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35877,"src":"1633:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1605:35:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage","typeString":"struct IVotingEscrow.UserPoint storage ref"}},"nodeType":"VariableDeclarationStatement","src":"1561:79:50"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35901,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":35898,"name":"userPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35891,"src":"1658:9:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage_ptr","typeString":"struct IVotingEscrow.UserPoint storage pointer"}},"id":35899,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1668:2:50","memberName":"ts","nodeType":"MemberAccess","referencedDeclaration":34603,"src":"1658:12:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":35900,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35825,"src":"1674:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1658:26:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35908,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":35905,"name":"userPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35891,"src":"1742:9:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage_ptr","typeString":"struct IVotingEscrow.UserPoint storage pointer"}},"id":35906,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1752:2:50","memberName":"ts","nodeType":"MemberAccess","referencedDeclaration":34603,"src":"1742:12:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":35907,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35825,"src":"1757:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1742:25:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":35920,"nodeType":"Block","src":"1822:51:50","statements":[{"expression":{"id":35918,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35914,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35870,"src":"1840:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35917,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35915,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35877,"src":"1848:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":35916,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1857:1:50","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1848:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1840:18:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35919,"nodeType":"ExpressionStatement","src":"1840:18:50"}]},"id":35921,"nodeType":"IfStatement","src":"1738:135:50","trueBody":{"id":35913,"nodeType":"Block","src":"1769:47:50","statements":[{"expression":{"id":35911,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35909,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35866,"src":"1787:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":35910,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35877,"src":"1795:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1787:14:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":35912,"nodeType":"ExpressionStatement","src":"1787:14:50"}]}},"id":35922,"nodeType":"IfStatement","src":"1654:219:50","trueBody":{"id":35904,"nodeType":"Block","src":"1686:46:50","statements":[{"expression":{"id":35902,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35877,"src":"1711:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35829,"id":35903,"nodeType":"Return","src":"1704:13:50"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35875,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35873,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35870,"src":"1447:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":35874,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35866,"src":"1455:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1447:13:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35924,"nodeType":"WhileStatement","src":"1440:443:50"},{"expression":{"id":35925,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35866,"src":"1899:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35829,"id":35926,"nodeType":"Return","src":"1892:12:50"}]},"documentation":{"id":35810,"nodeType":"StructuredDocumentation","src":"340:403:50","text":"@notice Binary search to get the user point index for a token id at or prior to a given timestamp\n @dev If a user point does not exist prior to the timestamp, this will return 0.\n @param _userPointEpoch State of all user point epochs\n @param _userPointHistory State of all user point history\n @param _tokenId .\n @param _timestamp .\n @return User point index"},"implemented":true,"kind":"function","modifiers":[],"name":"getPastUserPointIndex","nameLocation":"757:21:50","parameters":{"id":35826,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35814,"mutability":"mutable","name":"_userPointEpoch","nameLocation":"824:15:50","nodeType":"VariableDeclaration","scope":35928,"src":"788:51:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":35813,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":35811,"name":"uint256","nodeType":"ElementaryTypeName","src":"796:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"788:27:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":35812,"name":"uint256","nodeType":"ElementaryTypeName","src":"807:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"internal"},{"constant":false,"id":35821,"mutability":"mutable","name":"_userPointHistory","nameLocation":"913:17:50","nodeType":"VariableDeclaration","scope":35928,"src":"849:81:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.UserPoint[1000000000])"},"typeName":{"id":35820,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":35815,"name":"uint256","nodeType":"ElementaryTypeName","src":"857:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"849:55:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.UserPoint[1000000000])"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"baseType":{"id":35817,"nodeType":"UserDefinedTypeName","pathNode":{"id":35816,"name":"IVotingEscrow.UserPoint","nameLocations":["868:13:50","882:9:50"],"nodeType":"IdentifierPath","referencedDeclaration":34608,"src":"868:23:50"},"referencedDeclaration":34608,"src":"868:23:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage_ptr","typeString":"struct IVotingEscrow.UserPoint"}},"id":35819,"length":{"hexValue":"31303030303030303030","id":35818,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"892:10:50","typeDescriptions":{"typeIdentifier":"t_rational_1000000000_by_1","typeString":"int_const 1000000000"},"value":"1000000000"},"nodeType":"ArrayTypeName","src":"868:35:50","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_ptr","typeString":"struct IVotingEscrow.UserPoint[1000000000]"}}},"visibility":"internal"},{"constant":false,"id":35823,"mutability":"mutable","name":"_tokenId","nameLocation":"948:8:50","nodeType":"VariableDeclaration","scope":35928,"src":"940:16:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35822,"name":"uint256","nodeType":"ElementaryTypeName","src":"940:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":35825,"mutability":"mutable","name":"_timestamp","nameLocation":"974:10:50","nodeType":"VariableDeclaration","scope":35928,"src":"966:18:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35824,"name":"uint256","nodeType":"ElementaryTypeName","src":"966:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"778:212:50"},"returnParameters":{"id":35829,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35828,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":35928,"src":"1014:7:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35827,"name":"uint256","nodeType":"ElementaryTypeName","src":"1014:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1013:9:50"},"scope":36264,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":36029,"nodeType":"FunctionDefinition","src":"2273:982:50","nodes":[],"body":{"id":36028,"nodeType":"Block","src":"2473:782:50","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35945,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35943,"name":"_epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35931,"src":"2487:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":35944,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2497:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2487:11:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35948,"nodeType":"IfStatement","src":"2483:25:50","trueBody":{"expression":{"hexValue":"30","id":35946,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2507:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":35942,"id":35947,"nodeType":"Return","src":"2500:8:50"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35954,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":35949,"name":"_pointHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35936,"src":"2565:13:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.GlobalPoint storage ref)"}},"id":35951,"indexExpression":{"id":35950,"name":"_epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35931,"src":"2579:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2565:21:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage","typeString":"struct IVotingEscrow.GlobalPoint storage ref"}},"id":35952,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2587:2:50","memberName":"ts","nodeType":"MemberAccess","referencedDeclaration":34614,"src":"2565:24:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":35953,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35938,"src":"2593:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2565:38:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35958,"nodeType":"IfStatement","src":"2561:59:50","trueBody":{"expression":{"components":[{"id":35955,"name":"_epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35931,"src":"2613:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":35956,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2612:8:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35942,"id":35957,"nodeType":"Return","src":"2605:15:50"}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35964,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":35959,"name":"_pointHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35936,"src":"2678:13:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.GlobalPoint storage ref)"}},"id":35961,"indexExpression":{"hexValue":"31","id":35960,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2692:1:50","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2678:16:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage","typeString":"struct IVotingEscrow.GlobalPoint storage ref"}},"id":35962,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2695:2:50","memberName":"ts","nodeType":"MemberAccess","referencedDeclaration":34614,"src":"2678:19:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":35963,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35938,"src":"2700:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2678:32:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":35967,"nodeType":"IfStatement","src":"2674:46:50","trueBody":{"expression":{"hexValue":"30","id":35965,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2719:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":35942,"id":35966,"nodeType":"Return","src":"2712:8:50"}},{"assignments":[35969],"declarations":[{"constant":false,"id":35969,"mutability":"mutable","name":"lower","nameLocation":"2739:5:50","nodeType":"VariableDeclaration","scope":36028,"src":"2731:13:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35968,"name":"uint256","nodeType":"ElementaryTypeName","src":"2731:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35971,"initialValue":{"hexValue":"30","id":35970,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2747:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2731:17:50"},{"assignments":[35973],"declarations":[{"constant":false,"id":35973,"mutability":"mutable","name":"upper","nameLocation":"2766:5:50","nodeType":"VariableDeclaration","scope":36028,"src":"2758:13:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35972,"name":"uint256","nodeType":"ElementaryTypeName","src":"2758:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35975,"initialValue":{"id":35974,"name":"_epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35931,"src":"2774:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2758:22:50"},{"body":{"id":36024,"nodeType":"Block","src":"2812:415:50","statements":[{"assignments":[35980],"declarations":[{"constant":false,"id":35980,"mutability":"mutable","name":"center","nameLocation":"2834:6:50","nodeType":"VariableDeclaration","scope":36024,"src":"2826:14:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35979,"name":"uint256","nodeType":"ElementaryTypeName","src":"2826:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":35989,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35988,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35981,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35973,"src":"2843:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35987,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35984,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35982,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35973,"src":"2852:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":35983,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35969,"src":"2860:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2852:13:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":35985,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2851:15:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":35986,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2869:1:50","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"2851:19:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2843:27:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2826:44:50"},{"assignments":[35994],"declarations":[{"constant":false,"id":35994,"mutability":"mutable","name":"globalPoint","nameLocation":"2945:11:50","nodeType":"VariableDeclaration","scope":36024,"src":"2911:45:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage_ptr","typeString":"struct IVotingEscrow.GlobalPoint"},"typeName":{"id":35993,"nodeType":"UserDefinedTypeName","pathNode":{"id":35992,"name":"IVotingEscrow.GlobalPoint","nameLocations":["2911:13:50","2925:11:50"],"nodeType":"IdentifierPath","referencedDeclaration":34619,"src":"2911:25:50"},"referencedDeclaration":34619,"src":"2911:25:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage_ptr","typeString":"struct IVotingEscrow.GlobalPoint"}},"visibility":"internal"}],"id":35998,"initialValue":{"baseExpression":{"id":35995,"name":"_pointHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35936,"src":"2959:13:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.GlobalPoint storage ref)"}},"id":35997,"indexExpression":{"id":35996,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35980,"src":"2973:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2959:21:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage","typeString":"struct IVotingEscrow.GlobalPoint storage ref"}},"nodeType":"VariableDeclarationStatement","src":"2911:69:50"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36002,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":35999,"name":"globalPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35994,"src":"2998:11:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage_ptr","typeString":"struct IVotingEscrow.GlobalPoint storage pointer"}},"id":36000,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3010:2:50","memberName":"ts","nodeType":"MemberAccess","referencedDeclaration":34614,"src":"2998:14:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":36001,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35938,"src":"3016:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2998:28:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":36006,"name":"globalPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35994,"src":"3084:11:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage_ptr","typeString":"struct IVotingEscrow.GlobalPoint storage pointer"}},"id":36007,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3096:2:50","memberName":"ts","nodeType":"MemberAccess","referencedDeclaration":34614,"src":"3084:14:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":36008,"name":"_timestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35938,"src":"3101:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3084:27:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":36021,"nodeType":"Block","src":"3166:51:50","statements":[{"expression":{"id":36019,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36015,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35973,"src":"3184:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36018,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36016,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35980,"src":"3192:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":36017,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3201:1:50","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"3192:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3184:18:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36020,"nodeType":"ExpressionStatement","src":"3184:18:50"}]},"id":36022,"nodeType":"IfStatement","src":"3080:137:50","trueBody":{"id":36014,"nodeType":"Block","src":"3113:47:50","statements":[{"expression":{"id":36012,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36010,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35969,"src":"3131:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":36011,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35980,"src":"3139:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3131:14:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36013,"nodeType":"ExpressionStatement","src":"3131:14:50"}]}},"id":36023,"nodeType":"IfStatement","src":"2994:223:50","trueBody":{"id":36005,"nodeType":"Block","src":"3028:46:50","statements":[{"expression":{"id":36003,"name":"center","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35980,"src":"3053:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35942,"id":36004,"nodeType":"Return","src":"3046:13:50"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":35978,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":35976,"name":"upper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35973,"src":"2797:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":35977,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35969,"src":"2805:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2797:13:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36025,"nodeType":"WhileStatement","src":"2790:437:50"},{"expression":{"id":36026,"name":"lower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35969,"src":"3243:5:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":35942,"id":36027,"nodeType":"Return","src":"3236:12:50"}]},"documentation":{"id":35929,"nodeType":"StructuredDocumentation","src":"1917:351:50","text":"@notice Binary search to get the global point index at or prior to a given timestamp\n @dev If a checkpoint does not exist prior to the timestamp, this will return 0.\n @param _epoch Current global point epoch\n @param _pointHistory State of all global point history\n @param _timestamp .\n @return Global point index"},"implemented":true,"kind":"function","modifiers":[],"name":"getPastGlobalPointIndex","nameLocation":"2282:23:50","parameters":{"id":35939,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35931,"mutability":"mutable","name":"_epoch","nameLocation":"2323:6:50","nodeType":"VariableDeclaration","scope":36029,"src":"2315:14:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35930,"name":"uint256","nodeType":"ElementaryTypeName","src":"2315:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":35936,"mutability":"mutable","name":"_pointHistory","nameLocation":"2393:13:50","nodeType":"VariableDeclaration","scope":36029,"src":"2339:67:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.GlobalPoint)"},"typeName":{"id":35935,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":35932,"name":"uint256","nodeType":"ElementaryTypeName","src":"2347:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"2339:45:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.GlobalPoint)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":35934,"nodeType":"UserDefinedTypeName","pathNode":{"id":35933,"name":"IVotingEscrow.GlobalPoint","nameLocations":["2358:13:50","2372:11:50"],"nodeType":"IdentifierPath","referencedDeclaration":34619,"src":"2358:25:50"},"referencedDeclaration":34619,"src":"2358:25:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage_ptr","typeString":"struct IVotingEscrow.GlobalPoint"}}},"visibility":"internal"},{"constant":false,"id":35938,"mutability":"mutable","name":"_timestamp","nameLocation":"2424:10:50","nodeType":"VariableDeclaration","scope":36029,"src":"2416:18:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35937,"name":"uint256","nodeType":"ElementaryTypeName","src":"2416:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2305:135:50"},"returnParameters":{"id":35942,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35941,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":36029,"src":"2464:7:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35940,"name":"uint256","nodeType":"ElementaryTypeName","src":"2464:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2463:9:50"},"scope":36264,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":36119,"nodeType":"FunctionDefinition","src":"3755:847:50","nodes":[],"body":{"id":36118,"nodeType":"Block","src":"4015:587:50","nodes":[],"statements":[{"assignments":[36051],"declarations":[{"constant":false,"id":36051,"mutability":"mutable","name":"_epoch","nameLocation":"4033:6:50","nodeType":"VariableDeclaration","scope":36118,"src":"4025:14:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36050,"name":"uint256","nodeType":"ElementaryTypeName","src":"4025:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36058,"initialValue":{"arguments":[{"id":36053,"name":"_userPointEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36034,"src":"4064:15:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},{"id":36054,"name":"_userPointHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36041,"src":"4081:17:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref)"}},{"id":36055,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36043,"src":"4100:8:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36056,"name":"_t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36045,"src":"4110:2:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref)"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36052,"name":"getPastUserPointIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35928,"src":"4042:21:50","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_mapping$_t_uint256_$_t_uint256_$_$_t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (mapping(uint256 => uint256),mapping(uint256 => struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref),uint256,uint256) view returns (uint256)"}},"id":36057,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4042:71:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4025:88:50"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36061,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36059,"name":"_epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36051,"src":"4164:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":36060,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4174:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4164:11:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36064,"nodeType":"IfStatement","src":"4160:25:50","trueBody":{"expression":{"hexValue":"30","id":36062,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4184:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":36049,"id":36063,"nodeType":"Return","src":"4177:8:50"}},{"assignments":[36069],"declarations":[{"constant":false,"id":36069,"mutability":"mutable","name":"lastPoint","nameLocation":"4226:9:50","nodeType":"VariableDeclaration","scope":36118,"src":"4195:40:50","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_memory_ptr","typeString":"struct IVotingEscrow.UserPoint"},"typeName":{"id":36068,"nodeType":"UserDefinedTypeName","pathNode":{"id":36067,"name":"IVotingEscrow.UserPoint","nameLocations":["4195:13:50","4209:9:50"],"nodeType":"IdentifierPath","referencedDeclaration":34608,"src":"4195:23:50"},"referencedDeclaration":34608,"src":"4195:23:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage_ptr","typeString":"struct IVotingEscrow.UserPoint"}},"visibility":"internal"}],"id":36075,"initialValue":{"baseExpression":{"baseExpression":{"id":36070,"name":"_userPointHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36041,"src":"4238:17:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref)"}},"id":36072,"indexExpression":{"id":36071,"name":"_tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36043,"src":"4256:8:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4238:27:50","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage","typeString":"struct IVotingEscrow.UserPoint storage ref[1000000000] storage ref"}},"id":36074,"indexExpression":{"id":36073,"name":"_epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36051,"src":"4266:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4238:35:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage","typeString":"struct IVotingEscrow.UserPoint storage ref"}},"nodeType":"VariableDeclarationStatement","src":"4195:78:50"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36079,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":36076,"name":"lastPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36069,"src":"4287:9:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_memory_ptr","typeString":"struct IVotingEscrow.UserPoint memory"}},"id":36077,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4297:9:50","memberName":"permanent","nodeType":"MemberAccess","referencedDeclaration":34607,"src":"4287:19:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":36078,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4310:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4287:24:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":36116,"nodeType":"Block","src":"4370:226:50","statements":[{"expression":{"id":36097,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":36084,"name":"lastPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36069,"src":"4384:9:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_memory_ptr","typeString":"struct IVotingEscrow.UserPoint memory"}},"id":36086,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4394:4:50","memberName":"bias","nodeType":"MemberAccess","referencedDeclaration":34599,"src":"4384:14:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":36096,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":36087,"name":"lastPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36069,"src":"4402:9:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_memory_ptr","typeString":"struct IVotingEscrow.UserPoint memory"}},"id":36088,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4412:5:50","memberName":"slope","nodeType":"MemberAccess","referencedDeclaration":34601,"src":"4402:15:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36092,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36089,"name":"_t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36045,"src":"4421:2:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":36090,"name":"lastPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36069,"src":"4426:9:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_memory_ptr","typeString":"struct IVotingEscrow.UserPoint memory"}},"id":36091,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4436:2:50","memberName":"ts","nodeType":"MemberAccess","referencedDeclaration":34603,"src":"4426:12:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4421:17:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36093,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4420:19:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36094,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4440:8:50","memberName":"toInt128","nodeType":"MemberAccess","referencedDeclaration":37178,"src":"4420:28:50","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int128)"}},"id":36095,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4420:30:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"4402:48:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"4384:66:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":36098,"nodeType":"ExpressionStatement","src":"4384:66:50"},{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":36102,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":36099,"name":"lastPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36069,"src":"4468:9:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_memory_ptr","typeString":"struct IVotingEscrow.UserPoint memory"}},"id":36100,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4478:4:50","memberName":"bias","nodeType":"MemberAccess","referencedDeclaration":34599,"src":"4468:14:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":36101,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4485:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4468:18:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36110,"nodeType":"IfStatement","src":"4464:75:50","trueBody":{"id":36109,"nodeType":"Block","src":"4488:51:50","statements":[{"expression":{"id":36107,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":36103,"name":"lastPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36069,"src":"4506:9:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_memory_ptr","typeString":"struct IVotingEscrow.UserPoint memory"}},"id":36105,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4516:4:50","memberName":"bias","nodeType":"MemberAccess","referencedDeclaration":34599,"src":"4506:14:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":36106,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4523:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4506:18:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":36108,"nodeType":"ExpressionStatement","src":"4506:18:50"}]}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":36111,"name":"lastPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36069,"src":"4559:9:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_memory_ptr","typeString":"struct IVotingEscrow.UserPoint memory"}},"id":36112,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4569:4:50","memberName":"bias","nodeType":"MemberAccess","referencedDeclaration":34599,"src":"4559:14:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":36113,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4574:9:50","memberName":"toUint256","nodeType":"MemberAccess","referencedDeclaration":37202,"src":"4559:24:50","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int128_$returns$_t_uint256_$attached_to$_t_int128_$","typeString":"function (int128) pure returns (uint256)"}},"id":36114,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4559:26:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":36049,"id":36115,"nodeType":"Return","src":"4552:33:50"}]},"id":36117,"nodeType":"IfStatement","src":"4283:313:50","trueBody":{"id":36083,"nodeType":"Block","src":"4313:51:50","statements":[{"expression":{"expression":{"id":36080,"name":"lastPoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36069,"src":"4334:9:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_memory_ptr","typeString":"struct IVotingEscrow.UserPoint memory"}},"id":36081,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4344:9:50","memberName":"permanent","nodeType":"MemberAccess","referencedDeclaration":34607,"src":"4334:19:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":36049,"id":36082,"nodeType":"Return","src":"4327:26:50"}]}}]},"documentation":{"id":36030,"nodeType":"StructuredDocumentation","src":"3261:489:50","text":"@notice Get the current voting power for `_tokenId`\n @dev Adheres to the ERC20 `balanceOf` interface for Aragon compatibility\n      Fetches last user point prior to a certain timestamp, then walks forward to timestamp.\n @param _userPointEpoch State of all user point epochs\n @param _userPointHistory State of all user point history\n @param _tokenId NFT for lock\n @param _t Epoch time to return voting power at\n @return User voting power"},"functionSelector":"7b29b3d1","implemented":true,"kind":"function","modifiers":[],"name":"balanceOfNFTAt","nameLocation":"3764:14:50","parameters":{"id":36046,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36034,"mutability":"mutable","name":"_userPointEpoch","nameLocation":"3824:15:50","nodeType":"VariableDeclaration","scope":36119,"src":"3788:51:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":36033,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36031,"name":"uint256","nodeType":"ElementaryTypeName","src":"3796:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"3788:27:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36032,"name":"uint256","nodeType":"ElementaryTypeName","src":"3807:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"internal"},{"constant":false,"id":36041,"mutability":"mutable","name":"_userPointHistory","nameLocation":"3913:17:50","nodeType":"VariableDeclaration","scope":36119,"src":"3849:81:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.UserPoint[1000000000])"},"typeName":{"id":36040,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36035,"name":"uint256","nodeType":"ElementaryTypeName","src":"3857:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"3849:55:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.UserPoint[1000000000])"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"baseType":{"id":36037,"nodeType":"UserDefinedTypeName","pathNode":{"id":36036,"name":"IVotingEscrow.UserPoint","nameLocations":["3868:13:50","3882:9:50"],"nodeType":"IdentifierPath","referencedDeclaration":34608,"src":"3868:23:50"},"referencedDeclaration":34608,"src":"3868:23:50","typeDescriptions":{"typeIdentifier":"t_struct$_UserPoint_$34608_storage_ptr","typeString":"struct IVotingEscrow.UserPoint"}},"id":36039,"length":{"hexValue":"31303030303030303030","id":36038,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3892:10:50","typeDescriptions":{"typeIdentifier":"t_rational_1000000000_by_1","typeString":"int_const 1000000000"},"value":"1000000000"},"nodeType":"ArrayTypeName","src":"3868:35:50","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_UserPoint_$34608_storage_$1000000000_storage_ptr","typeString":"struct IVotingEscrow.UserPoint[1000000000]"}}},"visibility":"internal"},{"constant":false,"id":36043,"mutability":"mutable","name":"_tokenId","nameLocation":"3948:8:50","nodeType":"VariableDeclaration","scope":36119,"src":"3940:16:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36042,"name":"uint256","nodeType":"ElementaryTypeName","src":"3940:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36045,"mutability":"mutable","name":"_t","nameLocation":"3974:2:50","nodeType":"VariableDeclaration","scope":36119,"src":"3966:10:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36044,"name":"uint256","nodeType":"ElementaryTypeName","src":"3966:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3778:204:50"},"returnParameters":{"id":36049,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36048,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":36119,"src":"4006:7:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36047,"name":"uint256","nodeType":"ElementaryTypeName","src":"4006:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4005:9:50"},"scope":36264,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":36263,"nodeType":"FunctionDefinition","src":"4960:1142:50","nodes":[],"body":{"id":36262,"nodeType":"Block","src":"5195:907:50","nodes":[],"statements":[{"assignments":[36139],"declarations":[{"constant":false,"id":36139,"mutability":"mutable","name":"epoch_","nameLocation":"5213:6:50","nodeType":"VariableDeclaration","scope":36262,"src":"5205:14:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36138,"name":"uint256","nodeType":"ElementaryTypeName","src":"5205:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36145,"initialValue":{"arguments":[{"id":36141,"name":"_epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36131,"src":"5246:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36142,"name":"_pointHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36129,"src":"5254:13:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.GlobalPoint storage ref)"}},{"id":36143,"name":"_t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36133,"src":"5269:2:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.GlobalPoint storage ref)"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36140,"name":"getPastGlobalPointIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36029,"src":"5222:23:50","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,mapping(uint256 => struct IVotingEscrow.GlobalPoint storage ref),uint256) view returns (uint256)"}},"id":36144,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5222:50:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5205:67:50"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36148,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36146,"name":"epoch_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36139,"src":"5323:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":36147,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5333:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5323:11:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36151,"nodeType":"IfStatement","src":"5319:25:50","trueBody":{"expression":{"hexValue":"30","id":36149,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5343:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":36137,"id":36150,"nodeType":"Return","src":"5336:8:50"}},{"assignments":[36156],"declarations":[{"constant":false,"id":36156,"mutability":"mutable","name":"_point","nameLocation":"5387:6:50","nodeType":"VariableDeclaration","scope":36262,"src":"5354:39:50","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_memory_ptr","typeString":"struct IVotingEscrow.GlobalPoint"},"typeName":{"id":36155,"nodeType":"UserDefinedTypeName","pathNode":{"id":36154,"name":"IVotingEscrow.GlobalPoint","nameLocations":["5354:13:50","5368:11:50"],"nodeType":"IdentifierPath","referencedDeclaration":34619,"src":"5354:25:50"},"referencedDeclaration":34619,"src":"5354:25:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage_ptr","typeString":"struct IVotingEscrow.GlobalPoint"}},"visibility":"internal"}],"id":36160,"initialValue":{"baseExpression":{"id":36157,"name":"_pointHistory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36129,"src":"5396:13:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.GlobalPoint storage ref)"}},"id":36159,"indexExpression":{"id":36158,"name":"epoch_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36139,"src":"5410:6:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5396:21:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage","typeString":"struct IVotingEscrow.GlobalPoint storage ref"}},"nodeType":"VariableDeclarationStatement","src":"5354:63:50"},{"assignments":[36162],"declarations":[{"constant":false,"id":36162,"mutability":"mutable","name":"bias","nameLocation":"5434:4:50","nodeType":"VariableDeclaration","scope":36262,"src":"5427:11:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":36161,"name":"int128","nodeType":"ElementaryTypeName","src":"5427:6:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"id":36165,"initialValue":{"expression":{"id":36163,"name":"_point","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36156,"src":"5441:6:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_memory_ptr","typeString":"struct IVotingEscrow.GlobalPoint memory"}},"id":36164,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5448:4:50","memberName":"bias","nodeType":"MemberAccess","referencedDeclaration":34610,"src":"5441:11:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"VariableDeclarationStatement","src":"5427:25:50"},{"assignments":[36167],"declarations":[{"constant":false,"id":36167,"mutability":"mutable","name":"slope","nameLocation":"5469:5:50","nodeType":"VariableDeclaration","scope":36262,"src":"5462:12:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":36166,"name":"int128","nodeType":"ElementaryTypeName","src":"5462:6:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"id":36170,"initialValue":{"expression":{"id":36168,"name":"_point","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36156,"src":"5477:6:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_memory_ptr","typeString":"struct IVotingEscrow.GlobalPoint memory"}},"id":36169,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5484:5:50","memberName":"slope","nodeType":"MemberAccess","referencedDeclaration":34612,"src":"5477:12:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"VariableDeclarationStatement","src":"5462:27:50"},{"assignments":[36172],"declarations":[{"constant":false,"id":36172,"mutability":"mutable","name":"ts","nameLocation":"5507:2:50","nodeType":"VariableDeclaration","scope":36262,"src":"5499:10:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36171,"name":"uint256","nodeType":"ElementaryTypeName","src":"5499:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36175,"initialValue":{"expression":{"id":36173,"name":"_point","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36156,"src":"5512:6:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_memory_ptr","typeString":"struct IVotingEscrow.GlobalPoint memory"}},"id":36174,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5519:2:50","memberName":"ts","nodeType":"MemberAccess","referencedDeclaration":34614,"src":"5512:9:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5499:22:50"},{"assignments":[36177],"declarations":[{"constant":false,"id":36177,"mutability":"mutable","name":"t_i","nameLocation":"5539:3:50","nodeType":"VariableDeclaration","scope":36262,"src":"5531:11:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36176,"name":"uint256","nodeType":"ElementaryTypeName","src":"5531:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36184,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36183,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36178,"name":"ts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36172,"src":"5546:2:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":36179,"name":"WEEK","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35809,"src":"5551:4:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5546:9:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36181,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5545:11:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":36182,"name":"WEEK","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35809,"src":"5559:4:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5545:18:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5531:32:50"},{"body":{"id":36244,"nodeType":"Block","src":"5607:369:50","statements":[{"expression":{"id":36197,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36195,"name":"t_i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36177,"src":"5621:3:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":36196,"name":"WEEK","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35809,"src":"5628:4:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5621:11:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36198,"nodeType":"ExpressionStatement","src":"5621:11:50"},{"assignments":[36200],"declarations":[{"constant":false,"id":36200,"mutability":"mutable","name":"dSlope","nameLocation":"5653:6:50","nodeType":"VariableDeclaration","scope":36244,"src":"5646:13:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":36199,"name":"int128","nodeType":"ElementaryTypeName","src":"5646:6:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"id":36202,"initialValue":{"hexValue":"30","id":36201,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5662:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"5646:17:50"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36205,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36203,"name":"t_i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36177,"src":"5681:3:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":36204,"name":"_t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36133,"src":"5687:2:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5681:8:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":36217,"nodeType":"Block","src":"5738:60:50","statements":[{"expression":{"id":36215,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36211,"name":"dSlope","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36200,"src":"5756:6:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":36212,"name":"_slopeChanges","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36124,"src":"5765:13:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_int128_$","typeString":"mapping(uint256 => int128)"}},"id":36214,"indexExpression":{"id":36213,"name":"t_i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36177,"src":"5779:3:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5765:18:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"5756:27:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":36216,"nodeType":"ExpressionStatement","src":"5756:27:50"}]},"id":36218,"nodeType":"IfStatement","src":"5677:121:50","trueBody":{"id":36210,"nodeType":"Block","src":"5691:41:50","statements":[{"expression":{"id":36208,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36206,"name":"t_i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36177,"src":"5709:3:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":36207,"name":"_t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36133,"src":"5715:2:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5709:8:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36209,"nodeType":"ExpressionStatement","src":"5709:8:50"}]}},{"expression":{"id":36228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36219,"name":"bias","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36162,"src":"5811:4:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":36227,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36220,"name":"slope","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36167,"src":"5819:5:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36221,"name":"t_i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36177,"src":"5828:3:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":36222,"name":"ts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36172,"src":"5834:2:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5828:8:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36224,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5827:10:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36225,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5838:8:50","memberName":"toInt128","nodeType":"MemberAccess","referencedDeclaration":37178,"src":"5827:19:50","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int128)"}},"id":36226,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5827:21:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"5819:29:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"5811:37:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":36229,"nodeType":"ExpressionStatement","src":"5811:37:50"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36232,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36230,"name":"t_i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36177,"src":"5866:3:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":36231,"name":"_t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36133,"src":"5873:2:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5866:9:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36235,"nodeType":"IfStatement","src":"5862:53:50","trueBody":{"id":36234,"nodeType":"Block","src":"5877:38:50","statements":[{"id":36233,"nodeType":"Break","src":"5895:5:50"}]}},{"expression":{"id":36238,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36236,"name":"slope","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36167,"src":"5928:5:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":36237,"name":"dSlope","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36200,"src":"5937:6:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"5928:15:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":36239,"nodeType":"ExpressionStatement","src":"5928:15:50"},{"expression":{"id":36242,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36240,"name":"ts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36172,"src":"5957:2:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":36241,"name":"t_i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36177,"src":"5962:3:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5957:8:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36243,"nodeType":"ExpressionStatement","src":"5957:8:50"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36191,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36189,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36186,"src":"5593:1:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"323535","id":36190,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5597:3:50","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"255"},"src":"5593:7:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36245,"initializationExpression":{"assignments":[36186],"declarations":[{"constant":false,"id":36186,"mutability":"mutable","name":"i","nameLocation":"5586:1:50","nodeType":"VariableDeclaration","scope":36245,"src":"5578:9:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36185,"name":"uint256","nodeType":"ElementaryTypeName","src":"5578:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36188,"initialValue":{"hexValue":"30","id":36187,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5590:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"5578:13:50"},"loopExpression":{"expression":{"id":36193,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"5602:3:50","subExpression":{"id":36192,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36186,"src":"5604:1:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36194,"nodeType":"ExpressionStatement","src":"5602:3:50"},"nodeType":"ForStatement","src":"5573:403:50"},{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":36248,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36246,"name":"bias","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36162,"src":"5990:4:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":36247,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5997:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5990:8:50","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36254,"nodeType":"IfStatement","src":"5986:47:50","trueBody":{"id":36253,"nodeType":"Block","src":"6000:33:50","statements":[{"expression":{"id":36251,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36249,"name":"bias","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36162,"src":"6014:4:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":36250,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6021:1:50","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6014:8:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":36252,"nodeType":"ExpressionStatement","src":"6014:8:50"}]}},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36260,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":36255,"name":"bias","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36162,"src":"6049:4:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":36256,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6054:9:50","memberName":"toUint256","nodeType":"MemberAccess","referencedDeclaration":37202,"src":"6049:14:50","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int128_$returns$_t_uint256_$attached_to$_t_int128_$","typeString":"function (int128) pure returns (uint256)"}},"id":36257,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6049:16:50","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":36258,"name":"_point","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36156,"src":"6068:6:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_memory_ptr","typeString":"struct IVotingEscrow.GlobalPoint memory"}},"id":36259,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6075:20:50","memberName":"permanentLockBalance","nodeType":"MemberAccess","referencedDeclaration":34618,"src":"6068:27:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6049:46:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":36137,"id":36261,"nodeType":"Return","src":"6042:53:50"}]},"documentation":{"id":36120,"nodeType":"StructuredDocumentation","src":"4608:347:50","text":"@notice Calculate total voting power at some point in the past\n @param _slopeChanges State of all slopeChanges\n @param _pointHistory State of all global point history\n @param _epoch The epoch to start search from\n @param _t Time to calculate the total voting power at\n @return Total voting power at that time"},"functionSelector":"7259b019","implemented":true,"kind":"function","modifiers":[],"name":"supplyAt","nameLocation":"4969:8:50","parameters":{"id":36134,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36124,"mutability":"mutable","name":"_slopeChanges","nameLocation":"5022:13:50","nodeType":"VariableDeclaration","scope":36263,"src":"4987:48:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_int128_$","typeString":"mapping(uint256 => int128)"},"typeName":{"id":36123,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36121,"name":"uint256","nodeType":"ElementaryTypeName","src":"4995:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"4987:26:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_int128_$","typeString":"mapping(uint256 => int128)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36122,"name":"int128","nodeType":"ElementaryTypeName","src":"5006:6:50","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}},"visibility":"internal"},{"constant":false,"id":36129,"mutability":"mutable","name":"_pointHistory","nameLocation":"5099:13:50","nodeType":"VariableDeclaration","scope":36263,"src":"5045:67:50","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.GlobalPoint)"},"typeName":{"id":36128,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":36125,"name":"uint256","nodeType":"ElementaryTypeName","src":"5053:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"5045:45:50","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_GlobalPoint_$34619_storage_$","typeString":"mapping(uint256 => struct IVotingEscrow.GlobalPoint)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":36127,"nodeType":"UserDefinedTypeName","pathNode":{"id":36126,"name":"IVotingEscrow.GlobalPoint","nameLocations":["5064:13:50","5078:11:50"],"nodeType":"IdentifierPath","referencedDeclaration":34619,"src":"5064:25:50"},"referencedDeclaration":34619,"src":"5064:25:50","typeDescriptions":{"typeIdentifier":"t_struct$_GlobalPoint_$34619_storage_ptr","typeString":"struct IVotingEscrow.GlobalPoint"}}},"visibility":"internal"},{"constant":false,"id":36131,"mutability":"mutable","name":"_epoch","nameLocation":"5130:6:50","nodeType":"VariableDeclaration","scope":36263,"src":"5122:14:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36130,"name":"uint256","nodeType":"ElementaryTypeName","src":"5122:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36133,"mutability":"mutable","name":"_t","nameLocation":"5154:2:50","nodeType":"VariableDeclaration","scope":36263,"src":"5146:10:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36132,"name":"uint256","nodeType":"ElementaryTypeName","src":"5146:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4977:185:50"},"returnParameters":{"id":36137,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36136,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":36263,"src":"5186:7:50","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36135,"name":"uint256","nodeType":"ElementaryTypeName","src":"5186:7:50","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5185:9:50"},"scope":36264,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"BalanceLogicLibrary","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[36264],"name":"BalanceLogicLibrary","nameLocation":"189:19:50","scope":36265,"usedErrors":[37145,37147]}],"license":"BUSL-1.1"},"id":50}